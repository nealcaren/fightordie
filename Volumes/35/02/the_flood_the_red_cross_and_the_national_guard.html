<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W.E.B. Du&nbsp;Bois">
<meta name="dcterms.date" content="1928-02-01">

<title>The Flood, the Red Cross and the National Guard – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="The Flood, the Red Cross and the National Guard">
<meta name="citation_author" content="W.E.B. Du&nbsp;Bois">
<meta name="citation_publication_date" content="1928-02-01">
<meta name="citation_cover_date" content="1928-02-01">
<meta name="citation_year" content="1928">
<meta name="citation_online_date" content="1928-02-01">
<meta name="citation_fulltext_html_url" content="https://www.dareyoufight.org/Volumes/35/02/the_flood_the_red_cross_and_the_national_guard.html">
<meta name="citation_issue" content="2">
<meta name="citation_volume" content="35">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="41">
<meta name="citation_journal_title" content="The&nbsp;Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../Images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../credits.html"> 
<span class="menu-text">Credits</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Flood, the Red Cross and the National Guard</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>W.E.B. Du&nbsp;Bois </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 1, 1928</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><em>Second Installment Based on an Investigation Made by the N.A.A.C.P. in October, 1927</em></p>
<p>“No One Has Gone Hungry, Unclothed, Unprotected,” Herbert Hoover</p>
<p><em>MISSISSIPPI</em></p>
<p><em>The Situation</em></p>
<p>Each large plantation is farmed by a number of tenants, or sharecroppers, who are furnished with houses and living through the year by the planter. That is, they are given credit at the plantation store and “Christmas money” for the holidays. In the fall when the crop is in, the amount of the tenant’s indebtedness is, theoretically, subtracted from the amount coming to him as his share of the crop and the balance is paid to him. The planter, of course, keeps the amount of indebtedness higher than the value of the crop, and by this method can hold the tenant to work for another year under the same contract. Practically all such tenants are Negroes and in some cases there are several hundred families held in this kind of peonage on one plantation.</p>
<p>The Yazoo-Mississippi Delta is a one-crop country. The planter is a gambler, who stakes all he has each year on cotton. One successful year will make him rich. For five or six years he has been losing steadily. The price of cotton went down until last year it reached a point so low that a few planters refused to sell. Those who happened to store their crop in a high place sold this year at a high profit. With the exception of these the entire Delta, bankrupt before the flood, was left in a hopeless condition by the disaster. Practically all of the plantations were already mortgaged for more than their actual value. The mortgages are, for the most part, held by insurance companies. Plantations are financed each year by a “furnish loan” from a local bank. This is actually a mortgage on a potential crop. The amount of the loan is based on the amount of land and labor. The planter must show that he has a tenant family to every twenty acres. The loan is used for all the year’s expenses—seed, feed for the stock and food, clothing, etc., for the tenants. The planter is thus dependent on his tenants and obliged for his existence to hold them on his land by fair means or foul.</p>
<p>There is an understanding to the effect that a disaster which destroys the year’s crop automatically cancels the contract. Therefore after a serious overflow, if a share-cropper wishes to leave a plantation he feels free to do so. At such times the planter often resorts to any pressure possible to keep his tenants from leaving him. The unwritten law in Mississippi is that no plantation owner will try to entice labor away from another plantation. Anyone who is suspected of this crime is despised and outcast. Therefore the labor agent, whose business it is to do this, is considered the most contemptible of men. He must carry on his work in secrecy, for if it were definitely known, he would certainly be treated with violence, if not lynched.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p><em>The Planter and the Red Cross</em></p>
<p>In the early days of the flood of 1927, when it became apparent that their land would be inundated, the planters were greatly alarmed. They opposed the plan of the Red Cross to remove their Negro labor to refugee camps because, as they stated plainly, if the Negroes once got away they would never get them back. It was at that time not generally believed that the flood would be of any great duration and most of the planters felt that the Negroes could be cared for safely in buildings on the plantations. They opposed the Red Cross policy with enough vigor to handicap the rescue work seriously. <em>In order to get their cooperation the Red Cross made an agreement with them, pledging themselves to return the tenants to the plantations from which they came. By this agreement the Red Cross assumed the responsibility not only of caring for the tenants during the period of emergency relief, but of protecting plantation owners against labor agents and of persuading and coercing those tenants who did not wish to return to their plantations.</em> Miss Wagner who was in charge of work in the refugee camp at Natchez told me of this agreement and I had the same statement from Miss Pauline Marshall who was in charge at Vicksburg. The arrangement could hardly have been carried out, however, without the hearty cooperation of the National Guard. The Guardsmen, under the direction of the Red Cross, were in charge of the refugee camps in most places, with police and sentry duty. No one was allowed to enter or leave camp without a pass, except at the discretion of the Captain in charge. By these means (as previously reported) the refugees were prevented from leaving without the approval of the Red Cross and labor agents were kept from making contacts with them.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p><em>The Evacuation of the Camps</em></p>
<p>In spite of this agreement many of the planters continued to be uneasy in regard to their labor and as soon as the water showed signs of receding they began to send for their tenants. Early in May, while boat-loads of refugees were still coming in to Vicksburg from the Yazoo and Sunflower Rivers, plantation managers from Washington County were coming after their Negro tenants. The plantation owner sent to the Red Cross a statement that his land was dry, or partly dry and that he wished his tenants returned, and enclosed a list of their names. The Red Cross worker located them in camp or in town and ordered them to be ready to leave on the day set. The refugees protested both because they did not wish to return to the plantations and because they knew their homes were still under water. They were forced to do so by the combined bullying of the Red Cross workers, the National Guard and the plantation manager. Attempts to remonstrate or argue were usually met by: “Shut up and get on that truck”—sometimes with a threat from a Guardsman of what would happen if they refused. They never did refuse. Instead they returned to the plantations where they stayed in barns or other buildings from which the water had receded or in Red Cross tents pitched on the wet, soggy “dry land.” On the Dawson Plantation at Cary fifty Negro families lived in a colored church for weeks. In the midst of this premature evacuation of camp came the unexpected second rise early in June and even these places of refuge were again flooded. Some of the refugees were sent back to camp, or found their way there alone; but the majority stayed in the vicinity, on the levee or some high place, enduring acute misery rather than return to the brutal treatment of the National Guard. Rations were furnished to them by the Red Cross, usually being issued to the planter or his manager and distributed by him to the tenants.</p>
<p>The June rise postponed the evacuation of camps a very little. Red Cross orders were to send the refugees back as rapidly as possible. At Vicksburg both colored camps were closed before the end of June although the white camp was kept until the twenty-second of August. The reason for this haste is not quite clear as it was far easier and simpler to care for the people in a concentrated camp than scattered about the country. Economy is a possible motive, but it seems safe to assume that the actual reason was the demand of the planters.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p>Rationing on plantations was done on the basis of a list of needy families furnished by the plantation owner or manager, but the actual distribution was generally delegated to the store keeper. As the plantation stores had been flooded with a consequent heavy loss the store-keeper (who may have been the owner or manager also) took this opportunity to renew the stock, putting the fresh Red Cross supplies in their store-rooms and rationing the people with the wormy flood-damaged goods from their shelves. This was a very common practice and one of which there is no question. It was almost universal in Issaqueena County and in Washington County except around Greenville and also occurred very often in Sharkey and Warren Counties, though less openly. The Red Cross was entirely aware of the practice and in some cases tried to put a stop to it. The only way this would have been possible would have been to have all rationing done through Red Cross workers from Red Cross store-rooms, to individuals. This would have been certain to cause bad feeling between the Red Cross and the planters and was therefore not to be contemplated. Instead they allowed the Negroes to return to live in houses which had been under water in many cases as long as three months, and to be rationed on spoiled food until a serious outbreak of pellagra resulted. A doctor who had charge of Red Cross cases on three plantations (Dr.&nbsp;Westmoreland of Murphy, Miss.) said there was a case of pellagra in practically every tenant house and frequently every member of a family was ill.&nbsp;In his opinion it was entirely due to the Red Cross rationing and could easily have been prevented by a better chosen ration list and avoiding the distribution of spoiled food. Somewhat tardily the Red Cross “rallied to meet a new need” and imported several car-loads of powdered yeast for the treatment of the disease, and in addition distributed sweet potato plants. In some cases these were given directly to the Negroes, but very often they were given to the planter, the understanding being that he would plant them all and divide the crop among the tenants.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p><em>The Rehabilitation of Tenants</em></p>
<p>The original plan and intention of the Red Cross was to have each tenant or flood victim visited by the worker in charge. The houses were to be seen, the statement of losses and needs confirmed, and household goods awarded on this basis. The losses of Negro tenants consisted chiefly of furniture and clothing, the latter being replaced during the emergency period from the quantities of second-hand clothing contributed. Occasionally mules or other stock were reported in the lists of losses but I have not heard that they were ever replaced except to white people, although they may have been in exceptional cases.</p>
<p>To replace household goods the Red Cross has purchased goods in quantity and distributed them as needed. The cost has been kept to an incredibly small amount. T. R. Buchanan, Red Cross Area Director in Washington County, told me that a family of five with a total loss was rehabilitated for $20.00. A bed cost approximately $2.00, chairs fifty cents, etc. The grade of goods may be judged fairly by the prices.</p>
<p>The fairness of the distribution depended upon the Red Cross worker in charge. In some places the worker had actually carried out the instructions in the simplest way, visited the houses, noted the losses, and sent out supplies according to the need. These places were very rare. The usual method was for the worker to talk to the planter, interview a few tenants at the plantation store, and send a more or less haphazard selection of furniture to the store-keeper to be distributed by him. This again gave the store keeper an opportunity to replenish his stock. As they did with food, they also put Red Cross furniture in their store-rooms and disbursed instead their own damaged goods. Later they can charge the tenants a high price for these things. I was told by many people, among them Miss Gail Bradley, one of the best Red Cross workers, that it was well known that many plantation stores have on hand enough Red Cross supplies to carry them through the winter.</p>
<p>The rehabilitation of the section around Hollandale had been finished and the worker, Miss Marion Wald had left when I visited this section. This area included Murphy and the Houston Plantation. I found that Miss Wald had not been inside of any of the houses but had decided the probable needs of the families by her imagination. I visited cabin after cabin in this neighborhood, and found in all of them the same picture of utter dreariness and desolation, accepted with incredible patience and uncomplaining fortitude. In the white tenant houses I found an adequate amount of furniture given by the Red Cross, and a vastly more hopeful outlook in every respect, but a general attitude of bitter resentment because they had not received more.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p>The first house I visited was one to which I was taken by Dr.&nbsp;Westmoreland to see a special case of pellagra. It was a two-roomed shanty which had been under water for more than two months. Water was still standing in the yard when the family moved back. The mud and filth had been scrubbed away but had left its mark which no scrubbing could remove. Two rusty iron beds stood in one room. On one of them, on a new Red Cross mattress, wrapped in musty, smelly bedding, was a week-old baby. The mattress for the other bed was on the floor, because the bed-springs had rusted completely away and no others had been provided. The rest of the furniture had either been destroyed or swept away by the swift current. Beside the mattresses the Red Cross had given them four straight chairs, so cheaply made that they were already coming apart and a tiny stove, scarcely two feet high even when set up on two layers of bricks. They had no dishes, cooking utensils, table, or bedding. There were four children beside the baby, one of them seriously ill with pellagra, and three adults. They had received no rations for six weeks and the man had neither work nor credit. This I soon found was not an exceptional, but a very typical case. Near by on Houston Brothers’ Plantation I saw a man named Enoch Williams who had a family of five and had lost everything he owned. His Red Cross award had consisted of four chairs. His “boss-man” gave him cotton to fill two bed ticks. They were cooking over a camp-fire in utensils they had found in the wreckage beside the river. Another man on the same plantation, named John Williams, with a family of five, also had a total loss. His son is in the last stages of tuberculosis. They received from the Red Cross one blanket, one mattress, one chair. They searched among the wreckage that is strewn along the banks of the river and found a few broken pieces of furniture which they have propped up with bricks and now using.</p>
<p>In this same neighborhood, I was told by a reputable white man, that the emergency rations first issued included, beside the regular ration list, such things as canned sweet potatoes, peaches, sardines and sausages. These were issued to the store managers for distribution to the tenants, but were divided among the white people in the locality. There were no cases of pellagra among the whites.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p>In Sharkey County the first worker, Miss Moxley, caused so much dissatisfaction by her unfairness that a petition was circulated in Rolling Fork, and the Red Cross was asked to remove her. This was done and a man from Ohio was put in her place. Under his management there has been a decided improvement both in white and colored cases. A much better grade of furniture was purchased and the work was done on an actual individual basis, by the worker in charge. The same abuses continued on the plantations, but to a lesser degree and there was a serious effort to end them.</p>
<p>In Issaqueena County the situation is about the same as in Washington. Warren County is somewhat better. The man in charge for a time at Vicksburg was reprimanded I was told by Mr.&nbsp;John Cremer at National Headquarters because, as it was put, “he got so interested in the social situation that he forgot what he was there for.” It may be due to his interest that the plantations at Redwood, Yokena, Cedars and Glass showed much better conditions.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p><em>Migration from the Delta</em></p>
<p>In spite of the united efforts of the Red Cross and plantation owners to hold the Negroes on the land by force a general movement from the Delta began soon after the evacuation of the refugee camps. All tenant houses were damaged and many swept entirely away by the flood. At first a few families, rather than endure the misery of living in make-shift temporary quarters until the rehabilitation program could be carried out, went at once to the hills or upper Delta, where there was plenty of work to be had. Others waited to see what the Red Cross was going to do, but it soon became clear that it would do so little as to be negligible. Ten or twelve dollars’ worth of cheap household goods was not worth enduring unnecessary hardships for. More and more families packed up their few belongings and left.</p>
<p>Those who could get the means went further, to St, Louis, Chicago and Detroit. Plantation owners grew alarmed and made severe threats. It became necessary to slip out by night. Guards were put on the plantation roads. Some families were caught on their way off from the plantations and were told that their property, household goods, stock, etc., belonged to the planter for debt. When they protested the property was taken and they were told that they could go, they were no longer wanted there. In spite of all the measures taken to prevent it the migration continued. W. A. Clements, a lawyer in Rolling Fork said that at that time, early in October, more than 60 per cent. of the Negroes of Sharkey, Issaqueena and Warren Counties had left and they were still going.</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-du_bois1928" class="csl-entry quarto-appendix-citeas" role="listitem">
Du&nbsp;Bois, W.E.B. 1928. <span>“The Flood, the Red Cross and the National
Guard.”</span> <em>The&nbsp;Crisis</em> 35 (2): 41. <a href="https://www.dareyoufight.org/Volumes/35/02/the_flood_the_red_cross_and_the_national_guard.html">https://www.dareyoufight.org/Volumes/35/02/the_flood_the_red_cross_and_the_national_guard.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.dareyoufight\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>