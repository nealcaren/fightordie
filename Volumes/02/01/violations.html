<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W.E.B. Du&nbsp;Bois">
<meta name="dcterms.date" content="1911-05-01">

<title>Violations of Property Rights – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="Violations of Property Rights">
<meta name="citation_author" content="W.E.B. Du&nbsp;Bois">
<meta name="citation_publication_date" content="1911-05-01">
<meta name="citation_cover_date" content="1911-05-01">
<meta name="citation_year" content="1911">
<meta name="citation_online_date" content="1911-05-01">
<meta name="citation_fulltext_html_url" content="https://www.dareyoufight.org/Volumes/02/01/violations.html">
<meta name="citation_issue" content="1">
<meta name="citation_volume" content="2">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="28">
<meta name="citation_lastpage" content="22">
<meta name="citation_journal_title" content="The&nbsp;Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../Images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Violations of Property Rights</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>W.E.B. Du&nbsp;Bois </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 1911</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Few people who argue about the race problem know how that problem changes. Within the last twenty years this change has been so great that many fail to realize it, or if they do realize it more or less vaguely, they are puzzled at its new outcroppings. It seems to them as though this human difficulty was continually developing new and unexpected centers of trouble. As a matter of fact, however, what we have to-day might easily have been foreseen twenty years ago. We are having a change in the problem, but the change is logical and represents a more or less regular development.</p>
<p>To illustrate this let us remember what the argument against the Negro was in slavery days. It was said that he was an indolent tropical being who would not work without being driven and that it was utterly impossible that he should become a self-directing worker and work with initiative and a decent standard of life, and that if he were allowed to go free he would become a pauper or criminal, and very soon be extinct. This argument was thoroughly believed in by the mass of the best Southern people, and it undoubtedly did much to hold their hands back from all schemes of emancipation.</p>
<p>After the war the South and its friends hastened to point out that exactly what they foretold was happening. Their accusation against the Negro race was inborn laziness, and most superficial students of the Negro problem have seen what they think is ocular evidence of this laziness; the loafing about depots of Southern railway stations, the unreliability of Negro help, etc. So that from emancipation for a period of perhaps ten or twenty years the argument against the Negro in this country took this form: The Negro is lazy and is relapsing into barbarism, the young folks born during and since slavery are utterly worthless, and the better slaves of the old regime are going to disappear.</p>
<p>There was some truth in these assertions, but friends of the black man pointed out that a sudden revolution had taken place in the economic and social relations of these men; that they had been taught laziness both by the tropical climate of their forefathers’ home and by slavery, and that the only real present dangers were the hindrances which race prejudice was putting in their way. Gradually in the last fifteen or twenty years an answer to this argument was evolved. It was frankly admitted that there was prejudice and intense prejudice in social relations, but that this prejudice had absolutely nothing to do with the Negro as a workingman, and that consequently the argument of prejudice was outside of the question; that it was simply a matter of laziness and was to be cured by thrift. The Negro people were told, therefore, to work hard and regularly, and save their money.</p>
<p>In this later argument, again, there was a tremendous amount of truth. Certainly the first thing that a freedman must learn is regular habits and labor. He has been taught by slavery that labor is a badge of serfdom. He must teach himself that labor is a necessity of life. Moreover, under the slave regime money was an infrequent commodity which was immediately to be spent; while under the responsibilities of a free labor system it must be accumulated in small lots and very carefully guarded and saved.</p>
<p>While, however, this argument was strong and an argument that ought to have been made, it was not the argument that should have utterly displaced the insistence upon the evil of race prejudice. It was not too much to have asked intelligent people to foresee that race prejudice in the United States was going to hinder Negroes in getting work, and keep down their wages, and make it difficult for them to develop habits of thrift and to save. While on the one hand it was necessary, and imperatively necessary, that work and thrift should be insisted upon so far as Negroes were concerned, just as careful and widespread a campaign should have been carried on to see that the way before the faltering feet of the freedman was clear of hurtful and deadening prejudice. This necessity was not only not attended to but was even forgotten. The public have in later years come to be impatient of and observers to be optimistic and to dwell simply upon the shortcomings of the Negroes.</p>
<p>What has been the result of this policy? In the first place so far as the Negroes are concerned there can be no doubt that their energies have more and more been given to work and thrift, and despite all the testimonies of car-window sociologists there is absolutely undisputed evidence that the Negro has accumulated property. Full statistics unfortunately do not exist to prove this assertion; so far as crime is concerned we can get statistics of Negroes in practically every State, county and city in the United States, but when it comes to property there are only available figures in three States, and only in one State have these figures gone back for a considerable period.</p>
<p><img src="../../../Images/georgia_property.jpg" class="img-fluid"></p>
<p>The State of Georgia, beginning with 1874, has kept a careful account of the assessed value of the property owned by its Negro citizens. I have put on a chart the way in which that property has increased. It began at $6,000,000 in 1874, and did not increase for about six years, owing to the reconstruction troubles in this State. Then as gradually law and order were restored the accumulations began to go up, and once started they went very rapidly until they reached the culminating point in 1893. At that time the Negroes of Georgia were paying taxes on $14,000,000 worth of property. Then there came a check. First the panic of 1892, then a series of Jim Crow laws, four-cent cotton, and the epidemic of lynching. The result was that for five years the accumulations decreased or wavered. Then they took a new forward movement with the new century and went up rapidly until to-day the Negroes of Georgia pay taxes on about $30,000,000 worth of property. Moreover, as the assessments of property in Georgia are low, it is probable that this represents between $50,000,000 and $60,000,000 of actual value.</p>
<p>I have also tried to indicate on the chart the increase per capita of Negro property by a dotted line, and I have put down the Atlanta riot and the campaign for disfranchisement to indicate to you what is very clear in my mind, that this campaign was carried on chiefly because the Negroes were getting on too well.</p>
<p>Other States have made similar advancement, although there are fewer data. In Virginia, for instance, in 1891 Negroes paid taxes on $12,000,000 worth of property; in 1908 they paid taxes on $25,500,000. In North Carolina in 1900 Negroes paid taxes on nine and a third million dollars’ worth of property; in 1909 they paid taxes on $21,000,000 worth. Taking these three States together and considering simply the years 1900 to 1908 we find that in Georgia, Virginia and North Carolina colored people owned in 1900 $40,000,000 worth of taxable property, and in 1908 it had increased to $74,000,000. or an increase of 87 1/3 per cent.</p>
<p>Not only this, but the census of 1900 made an attempt to get some figures of the ownership of property by Negroes as a whole. They found that the Negroes, both as owners and tenants, operated 750,000 farms, containing 60,000 square miles, and that the total value of the property thus under Negro control was $500,000,000. with annual products to the amount of $256,000,000. Of these 750,000 farms one-fourth were owned by colored people, and the number of owners increased nearly 60 per cent, between 1890 and 1900, and there is every reason to believe that between 1900 and 1910 the increase has been far more than 60 per cent., and that to-day Negroes own somewhere near one-third of the farms which they operate.</p>
<p>Taking the 200,000 farms of the Negro owners we find that they, had in 1900 nearly 15,000,000 acres of land, which was worth $180,000,000, and raised $60,000,000 worth of products. All Negro farm property was estimated by the census to be worth about $230,000,000 ten years ago. The American Economic Association took up the subject, and concluded that the total property of the Negro race in 1900 was $300,000,000. If, however, the property has increased in the last ten years throughout the land in the same ratio as in Georgia, North Carolina and Virginia, then it would be fair to infer that the property of the Negroes in the United States should be assessed at $600,000,000.</p>
<p>Compared with the wealth of the United States these figures are small, but considered in the light of the fact that they represent the savings of a race that began practically without capital a generation ago, they are simply astounding. But what I want to point out to-day is that this accumulation has been made in the face of discouragements and violations of property rights such as no other class of Americans ever met. In the first place we must remember that it is the despised second generation since slavery that has made these accumulations and that these people have saved their money in the face of the following impediments:</p>
<ol type="1">
<li>The lack of facilities for saving, and deliberate cheating.</li>
<li>The hostility of local municipal policy.</li>
<li>Discrimination in wages.</li>
<li>Mob violence.</li>
<li>Legal violence.</li>
</ol>
<p>I want to take up each one of these in turn.</p>
<p>First, as to the lack of facilities for saving. Few people realize how difficult it is in the South for the poor man to save who wants to. Usually in the country districts there are but two methods open to him: To hoard his money or to hand it over to some white friend. There have been numberless cases where such white friends and patrons have taken care of the money of their Negro clients and acted as bankers, with the result that the colored man has been able to keep his savings secure and to accumulate. However, in an unfortunately large number of other cases the colored man has been cheated. Sometimes the patron has died suddenly and the client has been able to get no accounting from the heirs. This was peculiarly the case in regard to the property which free Negroes and favorite slaves accumulated before the war. In other cases the client has died and his heirs have been deliberately cheated by the natron. This has often been defended: Here is an old and favorite colored man whose property is kept by a white man. So long as he lives the property is safe in the white man’s hands. If he dies the white man decides that the children ought not have the property or do not deserve it, and takes it for his own purposes. In still other cases there is a deliberate attempt to cheat the client by false accounts or other devices. It is of course impossible to present figures to show the extent of this practice, but I have never been in a community in the South where the number of cases of deliberate cheating that could be pointed out was not simply appalling in frequency. I have great hopes in this respect of the Postal Savings Banks if the government will be careful not to put them all in the cities where they are not needed, but in the back country districts of the South.</p>
<p>Second, the hostility of municipal policy. Much has been said about the discrimination against Negroes by the State, and that in the South is large, but the real oppression in every-day life comes in the municipalities. The courts, for instance, are undoubtedly prejudiced against black men, but nevertheless it is possible in the higher State courts often to get substantial justice if the man has the money to take the case up. The legislatures are vicious in their attacks on Negro rights, but their doings are open to the public inspection of the whole United States, and must be somewhat curbed by law and public opinion. On the other hand, the action of the petty town, county and city governments is largely unnoticed and is often prejudiced and unfair to a degree almost unbelievable to those who do not know the facts. If, for instance, you go to an ordinary Southern town you are shown the Negro districts; the streets are unpaved; sidewalks are in a dilapidated condition; the drainage is bad; the garbage is not cared for, and the houses are dilapidated. Now. without doubt, part of this condition can be charged to the colored dwellers. but much of it is due to the deliberate refusal of the city to spend any public money on city improvements in the Negro district or to properly police this district. The Negro district is consequently not only without decent accommodations so far as the city is concerned, but it is at the mercy of the vicious, both of its own race and among the white race. There is scarcely a city in the South where the tenderloin district has not been deliberately placed in the Negro quarter and kept there despite the protest of the better class of Negroes. All this hurts Negro property and makes the investment of Negroes in property difficult. Moreover, the same thing that happens so often in the North is accentuated is this case, <em>i.e.</em>, the small householder pays a disproportionately large share of the taxes as compared with the large householder or capitalist. The burden of taxation in Southern cities is shifted upon the small Negro property owner to an extent which is astounding. All this discourages accumulation and particularly discourages investment.</p>
<p>Moreover, the gross and glaring injustice to Negroes in the lower courts makes it difficult and often impossible to defend their property rights. The magistrates and judges are usually elected for short terms, often on an anti-Negro platform, and are bitter and openly unfair.</p>
<p>Third, wage discrimination. It is the deliberate policy of the South to pay Negroes less wages for the same work than they would pay white people, just as is the case in the North where they pay women less wages for the same work than they pay men. The argument in the South is that the Negro has a lower standard of life, and therefore does not need as much money. The discrimination varies from 25 to 50 per cent. This makes it more difficult for Negroes to save money, because, as a matter of fact, while their standard of living is lower than that of the average white person, it is rapidly rising, and the demand upon their meager income for better housing, better food and better clothing is such that the margin for saving is very small or entirely disappears.</p>
<p>Fourth, mob violence. Of all the hindrances enumerated—lack of facilities for saving, hostility of municipal policy and wage discrimination—none are such detriments to saving in the South as the fear of mob violence. It is hard to realize in a law-abiding community how the fear of physical violence broods in the air in the South. No Negro can feel himself safe from it. He cannot invest in property without taking it into account. In some cases it is impossible to get his property insured for this very reason, and almost always when for any reason there is an outbreak of great violence in the South, it is the Negro property holder who actually pays the bill. The result is that continually men who might otherwise invest in property refrain from doing this, and other colored men who invest do so with the idea of removing to the North just as soon as they get large enough investments. The feeling of insecurity against the jealousy and viciousness of certain Southern elements is daily in their minds. It is this feeling, too, that drives the Negro into the cities; there his property gets greater police protection because it cannot be destroyed without in some degree injuring the property of white owners or injuring the general credit of the community.inally, this kind of mob violence has gone so far that we are seeing attempts to-day to translate it into legal violence. Just as the cheating of the Negro out of his vote was done by extra legal methods at first, and now is done by methods called legal, so the cheating of Negroes out of their property rights is now about to be translated into some semblance of legal form. The whole question of segregation in property is coming up at a later session, and therefore does not fall within the province of this paper; but I wish to point out that segregation is the violating of property rights, and that it is as futile an attempt to solve the Negro problem as any of the previous subterfuges have been.</p>
<p>In the time of slavery we had the subterfuge of colonization to tempt the conscientious mind; in the time of reconstruction we had the subterfuge of threatened Negro domination to blind those who ought to have seen; in the days since Reconstruction we have had the subterfuge of industrial inefficiency to make people forget race prejudice. Today the world, north and south, is being asked to believe that the crux of the Negro problem lies in keeping black men from buying property on your street. All through this history of subterfuge and evasion has run the great and dominating fact of a racial prejudice which denies the application of the ethics of Jesus Christ in the relations of men if these men happen to be of a different race. It is the object of the National Association for the Advancement of Colored People to impress the fact upon the American people that the foundation difficulty of the race problem is this despicable race prejudice, and that unless we attack this central difficulty we never shall settle this problem. Moreover, we insist that this problem must be settled and settled right, because it is but a part of a greater problem which is as wide as the world.</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-du_bois1911" class="csl-entry quarto-appendix-citeas" role="listitem">
Du&nbsp;Bois, W.E.B. 1911. <span>“Violations of Property Rights.”</span>
<em>The&nbsp;Crisis</em> 2 (1): 28–22. <a href="https://www.dareyoufight.org/Volumes/02/01/violations.html">https://www.dareyoufight.org/Volumes/02/01/violations.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.dareyoufight\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>