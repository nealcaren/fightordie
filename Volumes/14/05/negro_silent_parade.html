<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="National Association for the Advancement of Colored People">
<meta name="dcterms.date" content="1917-03-01">

<title>The Negro Silent Parade – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="The Negro Silent Parade">
<meta name="citation_author" content="National Association for the Advancement of Colored People">
<meta name="citation_publication_date" content="1917-03-01">
<meta name="citation_cover_date" content="1917-03-01">
<meta name="citation_year" content="1917">
<meta name="citation_online_date" content="1917-03-01">
<meta name="citation_fulltext_html_url" content="https://nealcaren.github.io/fightordie//Volumes/14/05/negro_silent_parade.html">
<meta name="citation_issue" content="5">
<meta name="citation_volume" content="14">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="241">
<meta name="citation_lastpage" content="244">
<meta name="citation_journal_title" content="The Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Negro Silent Parade</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>National Association for the Advancement of Colored People </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 1, 1917</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>On the afternoon of Saturday July 28, a vast body of Negroes marched through the streets of New York in silent protest against the recent race riots and outrages. The <em>New York American</em> says:</p>
<blockquote class="blockquote">
In silent protest against the recent killing of Negroes in race riots in Waco, Memphis and East St.&nbsp;Louis, 15,000 Negroes marched here yesterday afternoon. The parade formed in Fifth avenue and marched from Fifty-seventh street to Madison Square.
<p>
</p><p>Placards carried by boy scouts, aged men and by women and children explained the purpose of the demonstration.</p>
</blockquote>
<p>A detailed account of the causes for which the parade was held is given as follows by the <em>New York Times</em>:</p>
<blockquote class="blockquote">
During the progress of the march circulars were distributed among the crowds telling of the purpose which brought the Negroes together. Under the caption, “Why Do We March?” the circular read, in part, as follows:
<p>
We march because by the grace of God and the force of truth the dangerous, hampering walls of prejudice and inhuman injustices must fall.
</p><p>
We march because we want to make impossible a repetition of Waco, Memphis, and East St.&nbsp;Louis by arousing the conscience of the country, and to bring the murderers of our brothers, sisters and innocent children to justice.
</p><p>
We march because we deem it a crime to be silent in the face of such barbaric acts.
</p><p>
We march because we are thoroughly opposed to Jim Crow cars, etc., segregation, discrimination, disfranchisement, lynching, and the host of evils that are forced on us. It is time that the spirit of Christ should be manifested in the making and execution of laws.
</p><p>
We march because we want our children to live in a better land and enjoy fairer conditions than have fallen to our lot.
</p><p>
We march in memory of our butchered dead, the massacre of honest toilers who were removing the reproach of laziness and thriftlessness hurled at the entire race. They died to prove our worthiness to live. We live in spite of death shadowing us and ours. We prosper in the face of the most unwarranted and illegal oppression.
</p><p>
</p><p>We march because the growing consciousness and solidarity of race, coupled with sorrow and discrimination, have made us one; a union that may never be dissolved in spite of shallow-brained agitators, scheming pundits and political tricksters who secure a fleeting popularity and uncertain financial support by promoting the disunion of a people who ought to consider themselves as one.</p>
</blockquote>
<p>Although the paraders marched by in silence their sentiments were proclaimed by many mottoes, a complete list of which follows:</p>
<ul style="list-style: none; padding-left: 3rem;">
<li style="text-indent: -1.5rem;">
Memphis and Waco—Centers of American Culture?
</li><li style="text-indent: -1.5rem;">
Alabama needs 75,000 Ballots to elect 10 Congressmen. Minnesota needs 300,000. How do they do it?
</li><li style="text-indent: -1.5rem;">
350,000 voters in the South have as much political power as the 1,500,000 voters of New York State. How do they do it?
</li><li style="text-indent: -1.5rem;">
Each white man in the South by disfranchising the black working man casts from 3 to 13 times as many ballots as You.
</li><li style="text-indent: -1.5rem;">
Georgia and New Jersey have the same vote for President. Georgia casts 80,000 votes; New Jersey casts 430,000.<br>

</li><li style="text-indent: -1.5rem;">
Make America safe for Democracy.
</li><li style="text-indent: -1.5rem;">
Taxation without representation is tyranny.
</li><li style="text-indent: -1.5rem;">
Thou shalt not kill.
</li><li style="text-indent: -1.5rem;">
Thou shalt not bear false witness against thy neighbor.<br>

</li><li style="text-indent: -1.5rem;">
We hold these truths to be self-evident that all men are created equal. That they are endowed by their Creator with certain unalienable rights. That among these are LIFE, LIBERTY and the pursuit of HAPPINESS.
</li><li style="text-indent: -1.5rem;">
</li><li style="text-indent: -1.5rem;">
If you are of African descent tear off this corner.<br>

</li><li style="text-indent: -1.5rem;">
America has lynched without trial 2,867 Negroes in 31 years and not a single murderer has suffered.<br>

</li><li style="text-indent: -1.5rem;">
200,000 black men fought for your liberty in the Civil War.
</li><li style="text-indent: -1.5rem;">
The first blood for American Independence was shed by a Negro—Crispus Attucks.<br>

</li><li style="text-indent: -1.5rem;">
We have fought for the liberty of white Americans in 6 wars; our reward is East St.&nbsp;Louis<br>

</li><li style="text-indent: -1.5rem;">
12,000 of us fought with Jackson at New Orleans.
</li></ul>
<img src="../../../Images/nsp_1.jpg" class="img-fluid"><br>
<strong>The Negro Silent Parade, at Forty-Second street and Fifth avenue, New York City.</strong> <em>C.T Adams.</em>
<ul style="list-style: none; padding-left: 3rem;">
<li style="text-indent: -1.5rem;">
We fought with Perry at Lake Erie.<br>

</li><li style="text-indent: -1.5rem;">
10,000 of us fought in the Spanish American War.<br>

</li><li style="text-indent: -1.5rem;">
From Bunker Hill to Carrizal we have done our bit.<br>

</li><li style="text-indent: -1.5rem;">
The world owes no man a living, but every man an opportunity to earn a living.<br>

</li><li style="text-indent: -1.5rem;">
We are maligned as lazy and murdered when we work.
</li><li style="text-indent: -1.5rem;">
We are excluded from the unions, and condemned for not joining them.<br>

</li><li style="text-indent: -1.5rem;">
Repelled by the unions we are condemned as scabs.
</li><li style="text-indent: -1.5rem;">
They refuse us opportunity, then deny our capacity.
</li></ul>
<p><img src="../../../Images/nsp_2.jpg" class="img-fluid"></p>
<p><img src="../../../Images/nsp_3.jpg" class="img-fluid"><br>
<strong>The Negro Silent Parade, Fifth avenue, New York City.</strong> <em>Underwood &amp; Underwood.</em></p>
<ul style="list-style: none; padding-left: 3rem;">
<li style="text-indent: -1.5rem;">
Suffer little children and forbid them not.
</li><li style="text-indent: -1.5rem;">
Unto the least of these my brethren.<br>

</li><li style="text-indent: -1.5rem;">
3,000 Negroes fought for American Independence under George Washington.<br>

</li><li style="text-indent: -1.5rem;">
We helped to plant the flag in every American Dominion.<br>

</li><li style="text-indent: -1.5rem;">
Were we first in France? Ask Pershing.<br>

</li><li style="text-indent: -1.5rem;">
Thirty-four Negroes have received Carnegie hero medals.<br>

</li><li style="text-indent: -1.5rem;">
Our music is the only American music.<br>

</li><li style="text-indent: -1.5rem;">
Give us a chance to live.<br>

</li><li style="text-indent: -1.5rem;">
So treat us that we may love our country.<br>

</li><li style="text-indent: -1.5rem;">
Interpret for us in living, loving acts, the religion of Jesus Christ.<br>

</li><li style="text-indent: -1.5rem;">
India is abolishing caste; America is adopting it.<br>

</li><li style="text-indent: -1.5rem;">
Race prejudice is the offspring of ignorance and the mother of lynching.<br>

</li><li style="text-indent: -1.5rem;">
If fault is to be found with color, blame God and yourselves.<br>

</li><li style="text-indent: -1.5rem;">
Not alms but OPPORTUNITY.<br>

</li><li style="text-indent: -1.5rem;">
Patriotism and loyalty presuppose protection and liberty.<br>

</li><li style="text-indent: -1.5rem;">
We have 1,000,000 farmers.<br>

</li><li style="text-indent: -1.5rem;">
We have 30,000 carpenters.<br>

</li><li style="text-indent: -1.5rem;">
We have 30,000 clergymen.<br>

</li><li style="text-indent: -1.5rem;">
We have 12,000 brick and stone masons.<br>

</li><li style="text-indent: -1.5rem;">
We have 30,000 teachers.<br>

</li><li style="text-indent: -1.5rem;">
We have 3,000 physicians.<br>

</li><li style="text-indent: -1.5rem;">
We own 250,000 farms with 20,000,000 acres of land worth $500,000,000.<br>

</li><li style="text-indent: -1.5rem;">
We have church property worth $76,000,000.<br>

</li><li style="text-indent: -1.5rem;">
A square deal for every man.—T. R.<br>

</li><li style="text-indent: -1.5rem;">
The Negro has never betrayed the flag, attempted to assassinate the President or any official of this government.<br>

</li><li style="text-indent: -1.5rem;">
We have 60,000 iron and steel workers.<br>

</li><li style="text-indent: -1.5rem;">
We have 20,000 slaughter and packing house operators.<br>

</li><li style="text-indent: -1.5rem;">
No land that loves to lynch ‘niggers’ can lead the hosts of Almighty God.<br>

</li><li style="text-indent: -1.5rem;">
Put the spirit of Christ in the making and execution of laws.
</li><li style="text-indent: -1.5rem;">
Your hands are full of blood.<br>

</li><li style="text-indent: -1.5rem;">
Mother, do lynchers go to heaven?<br>

</li><li style="text-indent: -1.5rem;">
Cain, where is Abel, thy brother?<br>

</li><li style="text-indent: -1.5rem;">
The great contradiction—love of God and hatred of man.
</li><li style="text-indent: -1.5rem;">
Color, blood and suffering have made us one.<br>

</li><li style="text-indent: -1.5rem;">
Pray for the Lady MacBeths of East St.&nbsp;Louis.
</li></ul>
<p>The New York <em>World</em> says:</p>
<blockquote class="blockquote">
The Rev.&nbsp;Dr.&nbsp;H. C. Bishop was President of the parade. The Rev.&nbsp;Dr.&nbsp;Charles D. Martin was Secretary. The Rev.&nbsp;F. A. Cullen was Vice President. The first Deputy Marshal was J. Rosamond Johnson. Others were A. B. Cosey, C. H. Payne, formerly a member of Troop A, Ninth Cavalry; the Rev.&nbsp;E. W. Daniels, Allen Wood, James W. Johnson and John Nail. Jr.&nbsp;
<p>
</p><p>Rev.&nbsp;G. M. Plaskett and Dr.&nbsp;W. E. B. Du Bois were in the line of officers.</p>
</blockquote>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-association_for_the_advancement_of_colored_people1917" class="csl-entry quarto-appendix-citeas" role="listitem">
Association for the Advancement of Colored People, National. 1917.
<span>“The Negro Silent Parade.”</span> <em>The Crisis</em> 14 (5):
241–44. <a href="https://nealcaren.github.io/fightordie//Volumes/14/05/negro_silent_parade.html">https://nealcaren.github.io/fightordie//Volumes/14/05/negro_silent_parade.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/nealcaren\.github\.io\/fightordie\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>