<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W.E.B. Du&nbsp;Bois">
<meta name="dcterms.date" content="1921-12-01">

<title>President Harding and Social&nbsp;Equality – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="President Harding and Social&nbsp;Equality">
<meta name="citation_author" content="W.E.B. Du&nbsp;Bois">
<meta name="citation_publication_date" content="1921-12-01">
<meta name="citation_cover_date" content="1921-12-01">
<meta name="citation_year" content="1921">
<meta name="citation_online_date" content="1921-12-01">
<meta name="citation_fulltext_html_url" content="https://www.dareyoufight.org/Volumes/23/02/president-harding.html">
<meta name="citation_issue" content="2">
<meta name="citation_volume" content="23">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="53">
<meta name="citation_lastpage" content="56">
<meta name="citation_journal_title" content="The&nbsp;Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../Images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../backround.html"> 
<span class="menu-text">Background</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="../../../map.html">
 <span class="dropdown-text">Article Map</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../covers.html">
 <span class="dropdown-text">Covers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../credits.html">
 <span class="dropdown-text">Credits</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">President Harding and Social&nbsp;Equality</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>W.E.B. Du&nbsp;Bois </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 1, 1921</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>For fifty years we who, <em>pro</em> and <em>con</em>, have discussed the Negro Problem, have been skulking behind a phrase&nbsp;— “Social Equality.” Today President Harding’s speech, like sudden thunder in blue skies, ends the hiding and drives us all into the clear light of truth.</p>
<p>We had our excuses perhaps in the past: about every problem of human relations lurks a penumbra of shadowing possibilities, which we would not discuss. It seems unnecessary, inappropriate, beside the point. And so defenders of the higher training of women have hesitated to explore sex freedom for females; and lovers of democracy have declined to consider the possibility of the masses voting their own wages. It is not that we have denied the ensuing problems that shadow our main object, but we have said with a certain truth: sufficient unto the present tangle is the obvious evil thereof. Let us follow the clear light and afterward turn to other darknesses.</p>
<p>But sometimes this becomes suddenly impossible. Sometimes the so-considered minor problem is so tremendous and insistent that it leaps to the fore and demands examination and honest facing. This is particularly so when we have not simply ignored the problem but have deliberately and cynically lied about it, denied it, and said not that “Social Equality” was not a pertinent and pressing problem; but rather that it was no problem at all.</p>
<section id="the-birmingham-speech" class="level2">
<h2 class="anchored" data-anchor-id="the-birmingham-speech">The Birmingham Speech</h2>
<p>And now comes President Harding’s Birmingham speech when unwittingly or deliberately the President brings the crisis. We may no longer dodge nor hesitate. We must all, black or white, Northerner or Southerner, stand in the light and speak plain words.</p>
<p>The President must not for a moment be blamed because, when invited to the semi-centennial of a great southern city of industry, he talked of the Negro instead of the results of profitable mining. There is but one subject in the South. The Southerners themselves can speak no other, think no other, act no other. The eternal and inevitable southern topic is and has been and will be the Black Man.</p>
<p>Moreover, the President laid down three theses with which no American can disagree without a degree of self-stultification almost inconceivable, namely:</p>
<ol type="1">
<li>The Negro must vote on the same terms that white folk vote.</li>
<li>The Negro must be educated.</li>
<li>The Negro must have economic Justice.</li>
</ol>
<p>The sensitive may note that the President qualified these demands somewhat, even dangerously, and yet they stand out so clearly in his speech that he must be credited with meaning to give them their real significance. And in this the President made a braver, clearer utterance than Theodore Roosevelt ever dared to make or than William Taft or William McKinley ever dreamed of. For this let us give him every ounce of credit he deserves.</p>
</section>
<section id="social-equality" class="level2">
<h2 class="anchored" data-anchor-id="social-equality">Social Equality</h2>
<p>But President Harding did not stop here. Indeed he did not begin here. Either because he had no adequate view of the end of the fatal path he was treading or because, in his desire to placate the white South, he was careless of consequences, he put <em>first</em> on his program of racial settlement a statement which could have been understood and was understood and we fear was intended to be understood to pledge the nation, the Negro race and the world to a doctrine so utterly inadmissible in the twentieth century, in a Republic of free citizens and in an age of Humanity that one stands aghast at the motives and the reasons for the pronouncement.</p>
<p>It may to some seem that this statement is overdrawn. Some puzzled persons may say: but Negroes themselves have told me that they repudiate “Social Equality” and amalgamation of race; in fact, right there at Birmingham, Negro applause of the President was audible.</p>
<p>All this does not minimize&nbsp;— rather it emphasizes the grave crisis precipitated by the President’s speech. It emphasizes the fact of our mental skulking or transparent and deliberate dishonesty in dealing with the Negro.</p>
<p>Social equality may mean two things. The obvious and clear meaning is the right of a human being to accept companionship with his fellow on terms of equal and reciprocal courtesy. In this sense the term is understood and defended by modern men. It has not been denied by any civilized man since the French Revolution. It is the foundation of democracy and to bring it into being, the world went through revolution, war, murder and hell.</p>
<p>But there is another narrow, stilted and unreal meaning, that is sometimes dragged from these words, namely: Social Equality is the right to demand private social companionship with another.</p>
<p>Or to put it more simply: the real meaning of “social equality” is eligibility to association with men, and the forced and illogical meaning is the right to demand private association with any particular person. Such a demand as the latter is idiotic and was never made by any sane person; while on the contrary, for any person to admit that his character is such that he is physically and morally unfit to talk or travel or eat with his fellow-men, or that he has no desire to associate with decent people, would be an admission which none but a leper, a criminal or a liar could possibly make. It is the very essence of self-respect and human equality and it carries with it no jot of arrogance or assumption&nbsp;— it is simply <em>Homo Sum</em>.</p>
</section>
<section id="self-deception" class="level2">
<h2 class="anchored" data-anchor-id="self-deception">Self-Deception</h2>
<p>Despite this, for fifty years the Southern white man has said to the Negro: Do you mean to say that you consider yourself fit to associate with white people? And the Negro has answered; but the question which he answered was not the one asked, but rather the other totally different question: Do you mean to say that you want to force your friendship and company on persons who do not want them? The answer to this is obviously an emphatic and indignant <em>No</em>. But when the Negro said <em>No,</em> he knew that he was not answering the question the white man intended to ask and the white man knew that the Negro knew this, and that he himself had purposely asked a question of double and irreconcilable meaning, when he said, “Do you want Social Equality?”</p>
<p>And so this undeceiving deception has gone on for fifty years until the President of the United States, throwing caution to the winds, has either boldly or unwittingly announced as a national policy that “men of both races may well stand uncompromisingly against every suggestion of Social Equality.”</p>
<p>Or in other words, that no man, no matter how civilized, decent or gifted he may be, shall be permitted to associate with his fellow men on terms of equality or want to associate with them, if he be a Negro or of Negro descent.</p>
<p>Let us sweep away all quibbling: Let us assume that the President was sane and serious and could not and did not mean by “social equality” anything so inconceivable as the right of a man to invite himself to another man’s dinner table. No.&nbsp;Mr.&nbsp;Harding meant that the American Negro must acknowledge that it was a wrong and a disgrace for Booker T. Washington to dine with President Roosevelt!</p>
<p>The answer to this inconceivably dangerous and undemocratic demand must come with the unanimous ring of 12 million voices, enforced by the voice of every American who believes in Humanity.</p>
<p>Let us henceforward frankly admit that which we hitherto have always known; that <em>no system of social uplift which begins by denying the manhood of a man can end by giving him a free ballot, a real education and a just wage.</em></p>
</section>
<section id="race-equality" class="level2">
<h2 class="anchored" data-anchor-id="race-equality">Race Equality</h2>
<p>Let us confess that the pseudoscience to which the President unhappily referred as authority, and the guilty philanthropy which has greedily levelled racial barriers and now seeks with the bloodstained hands of a Lugard to rearrange them so that profit may emerge and manhood be dammed&nbsp;— let us confess that all this is vain, wrong and hypocritical and that every honest soul today who seeks peace, disarmament and the uplift of all men must say with the Pan-African Congress:</p>
<blockquote class="blockquote">
<p>The absolute equality of races&nbsp;— physical, political and social&nbsp;— is the founding stone of world peace and human advancement. No one denies great differences of gift, capacity and attainment among individuals of all races, but the voice of science, religion and practical politics is one in denying the God-appointed existence of superior races, or of races naturally and inevitably and eternally inferior.</p>
</blockquote>
<p>To deny this fact is to throw open the door of the world to a future of hatred, war and murder such as never yet has staggered a bowed and crucified humanity. How can a man bring himself to conceive that the majority of mankind&nbsp;— Chinese, Japanese, Indians and Negroes are going to stand up and acknowledge to the world that they are unfit to be men or to associate with men, when they know they <em>are</em> men?</p>
</section>
<section id="amalgamation" class="level2">
<h2 class="anchored" data-anchor-id="amalgamation">Amalgamation</h2>
<p>But President Harding does not stop even here. He declares “Racial amalgamation there cannot be.”</p>
<p>What does the President mean?</p>
<p>Does he mean that the White and Negro races in this land never have mixed? There are by census reports over two million acknowledged mulattoes in the United States today; and without doubt there are, in fact, no less than four million persons with white and Negro blood.</p>
<p>Does he mean that there is no amalgamation today? Between 1850 and 1921 the mulattoes have increased over 400 percent. Does he mean there will be no future amalgamation? How does he know?</p>
<p>Or does he mean that it would be better for Whites and Blacks not to amalgamate? If he meant that, why did he not say so plainly? And if he had said so, 99 percent of the Negroes would agree with him. We have not asked amalgamation; we have resisted it. It has been forced on us by brute strength, ignorance, poverty, degradation and fraud. It is the white race, roaming the world, that has left its trail of bastards and outraged women and then raised holy hands to heaven and deplored “race mixture.” No, we are not demanding and do not want amalgamation, but the reasons are ours and not yours. It is not because we are unworthy of intermarriage&nbsp;— either physically or mentally or morally. It is not because the mingling of races has not and will not bring mighty offspring in its Dumas and Pushkin and Coleridge-Taylor and Booker Washington. It is because no real men accept any alliance except on terms of absolute equal regard and because we are abundantly satisfied with our own race and blood. And at the same time we say and as free men must say that whenever two human beings of any nation or race desire each other in marriage, the denial of their legal right to marry is not simply wrong&nbsp;— it is lewd.</p>
</section>
<section id="segregation-and-race-pride" class="level2">
<h2 class="anchored" data-anchor-id="segregation-and-race-pride">Segregation and Race Pride</h2>
<p>And this brings us to the last word of President Harding: He says in one breath:</p>
<blockquote class="blockquote">
<p>Especially would I appeal to the self-respect of the colored race. I would inculcate in it the wish to improve itself as a distinct race with a heredity, a set of traditions, an array of aspirations all its own. Out of such racial ambitions and pride will come natural segregations.</p>
</blockquote>
<blockquote class="blockquote">
<p>The one thing we must sedulously avoid is the development of group and class organizations in this country. There has been a time when we heard too much about the labor vote, the business vote, the Irish vote, the Scandinavian vote, the Italian vote, and so on. But the demagogues who would array class against class and group against group have fortunately found little to reward their efforts.</p>
</blockquote>
<p>Is the President calling himself a demagogue? Does he not realize the logical contradictions of his thought? Can he not see his failure to recognize the Universal in the Particular, the menace of all group exclusiveness and segregation in the forced segregation of American Negroes? Can he not in this day of days with foreigners of every race flocking to Washington and the eyes of a blood-weary world strained after them&nbsp;— can he not realize the vast, the awful implications of this appeal to the Frankenstein of race exclusiveness&nbsp;— that hateful thing which has murdered peace and culture and nations? Does he not hear the answer that leaps to our lips? For when Warren Harding or any white man comes to teach Negroes pride of race, we answer that our pride is our business and not theirs, and a thing they would better fear rather than evoke: For the day that Black men love Black men simply because they are Black, is the day they will hate White men simply because they are White.</p>
<p>And then, God help us all!</p>
<!-- Similar articles start here -->
<div class="clear-wrap">

</div>
<section id="related-articles" class="level4">
<h4 class="anchored" data-anchor-id="related-articles">Related Articles</h4>
<ul>
<li><a href="../../../Volumes/19/01/social_equality.html">Social Equality (1919)</a></li>
<li><a href="../../../Volumes/37/05/our_program.html">Our Program (1930)</a></li>
<li><a href="../../../Volumes/22/01/president.html">The President (1922)</a></li>
<li><a href="../../../Volumes/12/01/social_equality.html">Social Equality (1916)</a></li>
<li><a href="../../../Volumes/09/02/trotter.html">William Monroe Trotter (1914)</a></li>
</ul>
<!-- Similar articles end here -->


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-du_bois1921" class="csl-entry quarto-appendix-citeas" role="listitem">
Du&nbsp;Bois, W.E.B. 1921. <span>“President Harding and
Social&nbsp;Equality.”</span> <em>The&nbsp;Crisis</em> 23 (2): 53–56. <a href="https://www.dareyoufight.org/Volumes/23/02/president-harding.html">https://www.dareyoufight.org/Volumes/23/02/president-harding.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.dareyoufight\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>