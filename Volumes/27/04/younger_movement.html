<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Du Bois, W.E.B. and Alan Locke">
<meta name="dcterms.date" content="1924-02-01">

<title>The Younger Literary Movement – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="The Younger Literary Movement">
<meta name="citation_author" content="Du Bois, W.E.B. and Alan Locke">
<meta name="citation_publication_date" content="1924-02-01">
<meta name="citation_cover_date" content="1924-02-01">
<meta name="citation_year" content="1924">
<meta name="citation_online_date" content="1924-02-01">
<meta name="citation_fulltext_html_url" content="https://nealcaren.github.io/fightordie//Volumes/27/04/younger_movement.html">
<meta name="citation_issue" content="4">
<meta name="citation_volume" content="27">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="161">
<meta name="citation_lastpage" content="163">
<meta name="citation_journal_title" content="The Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Younger Literary Movement</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Du Bois, W.E.B. and Alan Locke </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 1, 1924</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<h2 class="anchored">
I
</h2>
<p>There have been times when we writers of the older set have been afraid that the procession of those who seek to express the life of the American Negro was thinning and that none were coming forward to fill the footsteps of the fathers. Dunbar is dead; Chesnutt is silent; and Kelly Miller is mooning after false gods while Brawley and Woodson are writing history rather than literature. But even as we ask “Where are the young Negro artists to mold and weld this mighty material about us?”—even as we ask, they come.</p>
<p>There are two books before me, which, if I mistake not, will mark an epoch: a novel by Jessie Fauset and a book of stories and poems by Jean Toomer. There are besides these, five poets writing: Langston Hughes, Countée Cullen, Georgia Johnson, Gwendolyn Bennett and Claude McKay. Finally, Negro men are appearing as essayists and reviewers, like Walter White and Eric Walrond. (And even as I write comes the news that a novel by Mr.&nbsp;White has just found a publisher.) Here then is promise sufficient to attract us.</p>
<p>We recognize the exquisite abandon of a new day in Langston Hughes’ “Song For a Banjo.” He sings:</p>
<div class="poem">
<p class="verse">
Shake your brown feet, Liza,
</p><p class="verse">
Shake ’em Liza, chile,
</p><p class="verse">
Shake your brown feet, Liza,
</p><p class="verse indent">
(The music’s soft and wile).
</p><p class="verse">
Shake your brown feet, Liza,
</p><p class="verse indent">
(The Banjo’s sobbin’ low),
</p><p class="verse">
The sun’s goin’ down this very night—
</p><p class="verse">
Might never rise no mo’.
</p></div>
<p>Countée Cullen in his “Ballad of the Brown Girl” achieves eight lyric lines that are as true as life itself. There is in Claude McKay’s “If We Must Die” a strain martial and mutinous. There are other echoes—two from dead poets Jamison and Cotter who achieved in their young years long life if not immortality. But this essay is of two books.</p>
<p>The world of black folk will some day arise and point to Jean Toomer as a writer who first dared to emancipate the colored world from the conventions of sex. It is quite impossible for most Americans to realize how straight-laced and conventional thought is within the Negro World, despite the very unconventional acts of the group. Yet this contradiction is true. And Jean Toomer is the first of our writers to hurl his pen across the very face of our sex conventionality. In “Cane” (Boni &amp; Liveright, New York), one has only to take his women characters seriatim to realize this: Here is Karintha, an innocent prostitute; Becky, a fallen white woman; Carma, a tender Amazon of unbridled desire; Fern, an unconscious wanton; Esther, a woman who looks age and bastardy in the face and flees in despair; Louise, with a white and a black lover; Avey, unfeeling and unmoral; and Doris, the cheap chorus girl. These are his women, painted with a frankness that is going to make his black readers shrink and criticize; and yet they are done with a certain splendid, careless truth.</p>
<p>Toomer does not impress me as one who knows his Georgia but he does know human beings; and, from the background which he has seen slightly and heard of all his life through the lips of others, he paints things that are true, not with Dutch exactness, but rather with an impressionist’s sweep of color. He is an artist with words but a conscious artist who offends often by his apparently undue striving for effect. On the other hand his powerful book is filled with felicitous phrases—Karintha, “carrying beauty perfect as the dusk when the sun goes down,”—</p>
<div class="poem">
<p class="verse">
Hair—
</p><p class="verse">
Silver-grey
</p><p class="verse">
Like streams of stars
</p></div>
<p>Or again, “face flowed into her eyes—flowed in soft creamy foam and plaintive ripples.” His emotion is for the most part entirely objective. One does not feel that he feels much and yet the fervor of his descriptions shows that he has felt or knows what feeling is. His art carries much that is difficult or even impossible to understand. The artist, of course, has a right deliberately to make his art a puzzle to the interpreter (the whole world is a puzzle) but on the other hand I am myself unduly irritated by this sort of thing. I cannot, for the life of me, for instance see why Toomer could not have made the tragedy of Carma something that I could understand instead of vaguely guess at; “Box Seat” muddles me to the last degree and I am not sure that I know what “Kabnis” is about. All of these essays and stories, even when I do not understand them, have their strange flashes of power, their numerous messages and numberless reasons for being. But still for me they are partially spoiled.</p>
<p>Toomer strikes me as a man who has written a powerful book but who is still watching for the fullness of his strength and for that calm certainty of his art which will undoubtedly come with years.</p>
<p>It had been my intention when I began this essay to discuss also Miss Fauset’s novel. But Mr.&nbsp;Locke has sent us such an admirable and discriminating disquisition on this book that I gladly yield to him. <span class="right">–W. E. B. D.</span></p>
<h2 class="anchored">
II
</h2>
<p>The novel that the Negro intelligentzia have been clamoring for has arrived with Jessie Fauset’s first novel, “There is Confusion” (Boni &amp; Liveright, New York). What they have been wanting, if I interpret rightly, is not merely a race story told from the inside, but a cross section of the race life higher up the social pyramid and further from the base-line of the peasant and the soil than is usually taken. We scarcely realize how by reaction to social prejudice we have closed our better circles physically and psychologically: it is not always the fault of the novelist that he can depict only the peasant type and his urban analogue, the Negro of the slums. But here in refreshing contrast with the bulk of fiction about the Negro, we have a novel of the educated and aspiring classes. Miss Fauset has, however, not made the error of growing rootless flowers or exploring detached levels. Indeed she has sketched a Negro group against a wide social background of four generations—almost as much perspective as can be gotten on any social group in America, and moreover has not glossed over the slave régime, its ugly facts and its uglier consequences, though she has treated it incidentally as part of the genealogy and heredity of her characters. It is essentially a novel of blood and ancestry such as might be expected to come from the Philadelphia tradition which the author shares, and the Philadelphia scene which is part of her story. Yet it is too contemporary, not merely in incident, but in the phase of the race problem which it reflects, to be a period novel, a resurrection of the past. On the contrary it throbs with some of the latest reactions of the race situation in this country upon the psychology and relations of colored and white Americans of the more intelligent classes. It is this delineation of the problem as seen from the heights of respectability and from at least a plateau of culture that sharply differentiates Miss Fauset’s novel from others.</p>
<p>Joanna Marshall—more a heroine than most heroines, since she actually focusses and dominates in turn the life of her family, the estrangements and marriages of her brother and of her lover—is a strange character at war against herself. One part stoic, one part artistic, one part human with an emotional intensity and sincerity that is not Caucasian, she achieves success in her art at the very instant of her greatest disillusionment; but not before she has played unconscious havoc with several lives by her ambition and unswerving devotion to the ideals of success.</p>
<p>Complicated as these lives are at almost every turn by the peculiar handicaps and confusions of color, it is well for the artistry and the worth of the book that the <em>primary confusions are those more universal ones of human nature and its type-psychologies</em>. The atmosphere of the book is that of Quaker faith and sober optimism, and its constructive suggestion is that of an eventual mutual understanding and coöperation through the discipline of experience. It is as though two antithetic sides of life, male and female, white and black, had each to work out its own chastening and enlargement through sorrow and disillusionment to find itself, late but not always too tragically late, able to rise from the level of confusion to the level of coöperation and understanding:</p>
<p>The book has what I maintain is the prime essential for novels with such subject matter—social perspective, social sanity. A problem novel without this is either a raw and brutal cross-sectioning or medicated and unpalatable propaganda. From these two evils, the book happily and skillfully escapes. Of the style, one may say, that it fits the subject—and in this day of the confusion and compounding of styles, what can be better said? Certainly it sustains with interest a story that is more heavily ballasted with truth than two or three of the usual run of social novels that sail on a breezy style to the heavens of “six best sellers.” So that it can be confidently commended to that increasing band who, thank God, want truth with their fiction, and who will welcome especially upon the race question and its reactions on the best types and classes of colored folk, a social document of sterling and intimate character. <span class="right">–A. L.</span></p>
<h2 class="anchored">
III
</h2>
<p>These, then, are the two books of the younger Negro Movement; read them and enjoy them as I have done and spread the glad tidings. <span class="right">–W. E. B. D.</span></p>
<hr>
<p><em>Citation:</em> Du Bois, W.E.B. and Alan Locke. 1924. “The Younger Literary Movement.” <em>The Crisis</em>. 27(4):161–163.</p>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-bois,_w.e.b._and_alan_locke1924" class="csl-entry quarto-appendix-citeas" role="listitem">
Bois, W.E.B. and Alan Locke, Du. 1924. <span>“The Younger Literary
Movement.”</span> <em>The Crisis</em> 27 (4): 161–63. <a href="https://nealcaren.github.io/fightordie//Volumes/27/04/younger_movement.html">https://nealcaren.github.io/fightordie//Volumes/27/04/younger_movement.html</a>.
</div></div></section></div></main></div>


 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/nealcaren\.github\.io\/fightordie\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
 <!-- /content -->




</body></html>