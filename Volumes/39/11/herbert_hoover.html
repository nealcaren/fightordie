<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W.E.B. Du&nbsp;Bois">
<meta name="dcterms.date" content="1932-11-01">

<title>Herbert Hoover – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="Herbert Hoover">
<meta name="citation_author" content="W.E.B. Du&nbsp;Bois">
<meta name="citation_publication_date" content="1932-11-01">
<meta name="citation_cover_date" content="1932-11-01">
<meta name="citation_year" content="1932">
<meta name="citation_online_date" content="1932-11-01">
<meta name="citation_fulltext_html_url" content="https://www.dareyoufight.org/Volumes/39/11/herbert_hoover.html">
<meta name="citation_issue" content="11">
<meta name="citation_volume" content="39">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="362">
<meta name="citation_lastpage" content="363">
<meta name="citation_journal_title" content="The&nbsp;Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../Images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Herbert Hoover</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>W.E.B. Du&nbsp;Bois </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 1, 1932</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>The indictment which Americans of Negro descent have against Herbert Hoover is long, and to my mind, unanswerable. The chief counts are the following:</p>
<section id="lily-white-ism" class="level2">
<h2 class="anchored" data-anchor-id="lily-white-ism">Lily-White-ism</h2>
<p>Mr.&nbsp;Hoover did not hesitate in 1928 to use the old methods of manipulating Southern delegates in order to secure his nomination. Notwithstanding this, when he was elected to the presidency, he adopted into the program of the “Lily-Whites,” and sought to disfranchise Negroes in the councils of the Republican Party. At the same time, he kept in his councils white Southern Republicans like Creager and Slemp. In other words, Mr.&nbsp;Hoover tried to get rid of Negroes and not dishonesty in Southern politics. And the basic cause of dishonesty, illegal disfranchisement, he never mentioned.</p>
</section>
<section id="race-hatred" class="level2">
<h2 class="anchored" data-anchor-id="race-hatred">Race-Hatred</h2>
<p>During the campaign of 1928, when Mr.&nbsp;Hoover was seeking Southern votes it was necessary for the leaders of the Negro race, including nine officials of national Negro organizations, three bishops of Negro churches, four public officials, four college presidents, and two leading editors, to protest bitterly against the methods of Hoover’s Southern friends. Never since Emancipation and the bargain of 1876, was a more dangerous attack made on the right of Negroes to vote. The protest said:</p>
<blockquote class="blockquote">
<p>We are asking in this appeal, for a public repudiation of this campaign of racial hatred. Silence and whispering in this case are worse than in matters of personal character and religion. Will white America make no protest? Will the candidates continue to remain silent? Will the Church say nothing? Is there in truth any issue in this campaign, either religious tolerance, liquor, water-power, tariff or farm relief, that touches in weight the transcendant and fundamental question of the open, loyal and unchallenged recognition of the essential humanity of twelve million Americans who happen to be dark-skinned?</p>
</blockquote>
<p>To this national protest, Herbert Hoover did not answer a single word. On the contrary, his “Lily-White” policy continued the campaign.</p>
<p>Nominations for Office Mr.&nbsp;Hoover’s persistence in this attitude was further proven by his willingness to appoint to public office known enemies of the Negro race. In the face of wide protest and plain facts, he appointed William N. Doak as Secretary of Labor, knowing that Doak was the head of a trade union which specifically excludes Negroes, and that for years he was active in West Virginia in depriving Negroes of the right to work, especially on the railways. The recent systematic campaign against Negro firemen in the South is a movement in the same direction and resulted last year alone in seven Negro firemen killed and fourteen seriously injured by their white fellow workers.</p>
<p>Mr.&nbsp;Hoover nominated as Justice of the United States Supreme Court John J. Parker of North Carolina, in spite of the fact that Parker had opposed the right of Negroes to vote. We have been told that Parker was willing to repudiate this stand but that the White House refused to let him; at any rate, while Mr.&nbsp;Hoover hastened to explain Parker’s labor decisions, he treated his anti-Negro attitude with disdainful silence and despite advice and pleading, insisted upon sending this nomination to the Senate. It was finally defeated by a narrow margin by the influence of the Negro and labor vote and despite every effort of the administration to force it through.</p>
</section>
<section id="haiti-and-liberia" class="level2">
<h2 class="anchored" data-anchor-id="haiti-and-liberia">Haiti and Liberia</h2>
<p>Mr.&nbsp;Hoover nominated as Justice of Negro governments in Haiti and Liberia has blown both hot and cold, and ended most unfortunately in both cases. He refused to appoint a Negro member to the Haitian Commission, and while his commission made excellent recommendations, Mr.&nbsp;Hoover followed them slowly and with long periods of hesitation, and he still insists, at the dictation of great financial interests, that the United States keep indefinite control of Haitian finance.</p>
<p>In the same way, in Liberia, he is refusing his assent to the excellent plan of reform drawn up by the League of Nations and assented to by Liberia and he is demanding a dictator who will destroy the independence of Liberia. The United States refuses to be represented at Geneva but the Firestone Rubber Company has headquarters there in the same hotel with Mr.&nbsp;Hoover’s unofficial adviser; it dictates Mr.&nbsp;Hoover’s policy; it demands the right to name the proposed dictator, and refuses to recognize a Negro government which has lived more than a century.</p>
</section>
<section id="the-color-bar" class="level2">
<h2 class="anchored" data-anchor-id="the-color-bar">The Color Bar</h2>
<p>Mr.&nbsp;Hoover has permitted and ordered outrageous discrimination based on color. He sent colored Gold Star mothers on separate ships with inferior accommodations to visit their son’s graves; in officers’ training camps, he refused nearly all Negro applicants. He was begged to stop open discrimination against Negroes in Red Cross relief, following the Mississippi flood in 1927; he first denied the facts, and when they were confirmed by his own committee, he suppressed their report, and never applied adequate remedies.</p>
<p>In the same way, he is today allowing the War Department to white-wash the equally unjustifiable discrimination against Negroes and bad treatment of workers in the government contracts in flood control.</p>
</section>
<section id="colored-appointments" class="level2">
<h2 class="anchored" data-anchor-id="colored-appointments">Colored Appointments</h2>
<p>Herbert Hoover practically promised in his 1928 campaign speech at Elizabethton, Tenn., that he would appoint to office no persons to whom white Southerners objected. He has more than carried out this promise and has made fewer first-class appointments of Negroes to office than any President since Andrew Johnson. His few minor appointments have been mediocre and political. Particularly, in cases like Haiti and Ethiopia, where logic and courtesy gave him unusual opportunity to recognize Negroes, he flatly ignored them. In the Civil Service, he has allowed eligible Negroes systematically to be refused appointment, and colored appointees to be dismissed from their positions; while in the diplomatic and consular service, he has reduced the number of incumbents and made few new appointments.</p>
</section>
<section id="the-forgotten-black-man" class="level2">
<h2 class="anchored" data-anchor-id="the-forgotten-black-man">The Forgotten Black Man</h2>
<p>Especially has it been true that President Hoover, knowing as he must, the extraordinary and unprecedented struggle of the American Negro, his handicaps and disadvantages, not to mention his continuing illegal oppression, has in the four years that he has been in the White House, made only the vaguest reference to this race and its needs. He has said absolutely nothing about disfranchisement, peonage nor racial segregation, and next to nothing about lynching and mob law, although fifty-seven Negroes, unconvicted by any court of any crime, have been lynched during his administration. He has done nothing to correct discrimination in the distribution of government educational funds, although he knows that of the more than six million dollars a year, divided by the government among seventeen Southern states for education, only $340,000 goes to black people who form one-fourth of the population.</p>
</section>
<section id="the-negro-and-the-nation" class="level2">
<h2 class="anchored" data-anchor-id="the-negro-and-the-nation">The Negro and the Nation</h2>
<p>It may be said that the above arraignment, even if true, is partial and one-sided, in that it judges the acts of a public official elected to serve 123 million people from the point of view of the special interests and desires of 12 million.</p>
<p>If the demands of 12 million colored Americans were antagonistic to those of their 111 million fellows, there would remain a grave question of duty and sacrifice and a nice dilemma as to how far a nation can ask a tenth of its souls to commit suicide.</p>
<p>But we Negroes contend that our problem is but a microcosm of the nation and that the president who fails us fails all.</p>
<p>Take the great national problems: the Depression of Industry; the International Debts; the Tariff. In all these, President Hoover has been either wrong or helplessly inadequate and each of these failures affects us.</p>
<p>Stubbornly and blindly, the President for three years denied that there was any depression; allowed the figures of unemployment to be falsified, and refused to sanction adequate and thorough-going relief. When he was forced to face relief, he went to the rescue of banks, railroads and corporations. Yet, we Negroes were the first and severest sufferers from depression and the last to be relieved.</p>
<p>The world owes this nation a fantastic sum which it cannot pay and never will. It is arming for war as fast as it can. Here Mr.&nbsp;Hoover’s leadership is vacillating and contradictory. He calls for a temporary moratorium and then refuses to discuss the problems it raises. He evolves a formula for peace which makes others disarm and allows us to increase armament. He demands that the League of Nations rule in Manchuria but not in Liberia. He wants treaties observed by Japan in China and not by the United States in Haiti. As a result, Peace, industry, and international good will suffer. America becomes the best-hated nation on earth. No one credits her with either good sense or good contentions, and yet all must dance attendance on her organized and despotic economic power. And this economic power crushes Negro labor at home, just as it retards European recovery abroad.</p>
<p>As a manufacturing nation, we need to sell goods all over the earth. We can only sell to those who can pay. Nations pay for imports with exports. Herbert Hoover signed a bill which taxed imports so highly that nations cannot afford to buy our goods. Hoover knew the rates were too high, yet he signed the bill. Our exports decline, our factories close and we starve. And we Negroes starve first and longest.</p>
<p>Moreover, we cannot as a nation secure control of industry and politics as long as the rotten boroughs of the South, with political power based on disfranchised black and white labor, make a third party movement impossible. No one in our day has helped disfranchisement and race hatred more than Herbert Hoover by his “Lily-White” policy, his appointments to office, and his failure to recognize or appreciate the plight of the Forgotten Black Man.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-du_bois1932" class="csl-entry quarto-appendix-citeas" role="listitem">
Du&nbsp;Bois, W.E.B. 1932. <span>“Herbert Hoover.”</span> <em>The&nbsp;Crisis</em>
39 (11): 362–63. <a href="https://www.dareyoufight.org/Volumes/39/11/herbert_hoover.html">https://www.dareyoufight.org/Volumes/39/11/herbert_hoover.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.dareyoufight\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>