<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W.E.B. Du&nbsp;Bois">
<meta name="dcterms.date" content="1933-10-01">

<title>Youth and Age at Amenia – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="Youth and Age at Amenia">
<meta name="citation_author" content="W.E.B. Du&nbsp;Bois">
<meta name="citation_publication_date" content="1933-10-01">
<meta name="citation_cover_date" content="1933-10-01">
<meta name="citation_year" content="1933">
<meta name="citation_online_date" content="1933-10-01">
<meta name="citation_fulltext_html_url" content="https://www.dareyoufight.org/Volumes/40/10/youth_and_age.html">
<meta name="citation_issue" content="10">
<meta name="citation_volume" content="40">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="226">
<meta name="citation_lastpage" content="227">
<meta name="citation_journal_title" content="The&nbsp;Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../Images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../credits.html"> 
<span class="menu-text">Credits</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Youth and Age at Amenia</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>W.E.B. Du&nbsp;Bois </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 1, 1933</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>I was the great Jew, Benjamin Disraeli, who said: “Youth is a blunder; manhood a struggle; old age a regret.” And so with blunder and regret and perhaps something of struggle, we came together last month in the second Amenia Conference.</p>
<p>The first conference at Joel Spingarn’s beautiful country estate, took place in 1916. And after its few days of frank fellowship there was no adequate reason left for essential differences of opinion between the followers of Booker T. Washington, then just dead, and those younger men who had so vigorously opposed some of his policies.</p>
<p>The second Amenia conference held at Troutbeck, seventeen years later, had a definite object,—one much more usual in this world, and yet emphasized today both within and without the Negro race because of World War and unemployment. It was an attempt to bring together and into sympathetic understanding, Youth and Age interested in the Negro problem. And more particularly Youth, with a fringe of Age; and not extreme youth. Eliminating four admittedly among the elders, the others ranged in age between twenty-five and thirty-five, with a median age of thirty, that is, they were well out of college and started on their life work, and yet, as the invitations suggested, they were still with inquiring minds and still unsettled as to their main life work.</p>
<p>These younger conferees may be classed in various ways:</p>
<p>There were 5 social workers; 5 college professors, 4 Y.W.C.A. workers, 3 teachers, 3 lawyers, 2 artisans, 2 librarians, a physician, a student and a Y.M.C.A. worker.</p>
<p>Representing age (more or less willingly), were 2 editors, a professor and a social worker. All were college graduates except one. There were two Doctors of Philosophy.</p>
<p>Among the visitors were a distinguished author, a Federal official, a social worker and a physician.</p>
<p>This, of course, was far from being a cross-section of the group represented. Those present were picked almost haphazard from a list of over 400 names sent to us from all parts of the country. The younger people were, however, very interesting. Among them 3 gave evidence of first-class scholarship, based on thoughtful study and reading; ten were clear-thinkers, able to state their thoughts succinctly and definitely, not at all settled in thought or opinion and frankly aware of the fact, and yet able to contribute to thought. Four were more emotional, not altogether clear in thought, but evidently in earnest and groping. Two were bright but cynical, and the rest were a miscellaneous group, some of whom lacked training and others were merely silent.</p>
<p>On the whole, they were inspiring. They had evidently been thinking and they had not stopped the process. Their difficulty was mainly the difficulty of all youth. Inspired and swept on by its vision, it does not know or rightly interpret the past and is apt to be too hurried carefully to study the present. For instance, one earnest young man told of the need of a Negro lobby in Washington and how certain persons were going to start one. The officials of the N.A.A.C.P. promptly told of the lobby which had been sustained there for five or more years; and the real solution of this apparent contradiction was: How efficient was the former lobby? Why was it not continued? And how far was the present proposal learning from the mistakes and successes of the first venture?</p>
<p>Only by such linking of past, present and future can real national and group advance be made, and this, I think, the Amenia conference was conscious of before it adjourned.</p>
<p>Of course, the difficulty with age and youth is to find a common language; an attitude in which they can approach each other. It is hard for age to admit or understand that it has not thought of everything or attempted everything, or done what it has done as efficiently as it might have done. It is equally difficult for youth to know that age has thought of some of the various problems which bother youth; has tried and failed and succeeded and for reasons not explained altogether by either stupidity or cowardice. In attitude, youth with its tongue in its cheek assumes very often a silent reverence for age which it does not in the slightest feel. And age recognizes the mockery, and on the other hand, it is exceedingly difficult for age not to patronize youth, and to say by silences and inflections: “You really know very little.” Which is of course true but applies but little more to youth than to age.</p>
<p>We talked from Friday to Monday, interspersed with swimming and glorious food. Our general thesis was:</p>
<blockquote class="blockquote">
<p>In view of the present world depression and the race problems which have exhibited themselves in Germany, India and Africa, the West Indies and the United States, what should be the ultimate goal of a young, educated American Negro with regard to:</p>
<p>A. Occupation and Income<br>
B. Racial Organization<br>
C. Inter-Racial Co-operation</p>
</blockquote>
<p>As a matter of fact most of the discussion confined itself to the economic conditions and the influence of education and politics on these conditions, There was little time left for the matter of racial organization, while the interracial aspects of the problem received practically no attention.</p>
<p>The discussion was interesting. There was not a single speech made; that is, there was no attempt at rounded periods and eloquence by persons who had nothing in particular to say. No one even attempted it. When anyone got the floor, they really took hold of the thought and did something with it. And in the end, the general consensus of agreement was rather startling. Far greater than most of us had thought. These were the resolutions:</p>
<p><em>This conference</em> was called to make a critical appraisal of the Negro’s existing situation in American Society and to consider underlying principles for future action. Such criticism at this stage does not involve the offering of concrete program for any organization for administrative guidance.</p>
<p>There has been no attempt to disparage the <em>older type of leadership</em>. We appreciate their importance and contributions but we feel that in a period in which economic, political, and social values are rapidly shifting, and the very structure of organized society is being revamped, the leadership which is necessary is that which will integrate the special problems of the Negro within the larger issues facing the nation.</p>
<p><em>The primary problem is economic</em>. Individual ownership expressing itself through the control and exploitation of natural resources and industrial machinery has failed in the past to equalize consumption with production.</p>
<p>As a result of which the whole system of private property and private profit is being called into question. The government is being forced to attempt an economic reorganization based upon a “co-partnership” between capital, labor and government itself. The government is attempting to augment consumptive power by increasing wages, shortening hours and controlling the labor and commodity markets. As a consumer the Negro has always had a low purchasing power as a result of his low wages coming from his inferior and restricted position in the labor market. If the government program fails to make full and equal provision for the Negro, it cannot be effective in restoring economic stability.</p>
<p>In the past there has been a greater <em>exploitation of Negro labor</em> than of any other section of the working class, manifesting itself particularly in lower wages, longer hours, excessive use of child labor and a higher proportion of women at work. Heretofore there has been slight recognition by Negro labor or Negro leaders of the significance of this exploitation in the economic order. Consequently no technique or philosophy has been developed to change the historic status of Negro labor. Hence in the present governmental set-up there is grave danger that this historic status will be perpetuated. As a result the lower wages on the one hand will reduce the purchasing power of Negro labor and on the other be a constant threat to the standards and security of white labor.</p>
<p>The question then arises how far <em>existing agencies</em> working among and for Negroes are theoretically and structurally prepared to cope with this situation. It is the opinion of the conference that the welfare of white and black labor are one and inseparable and that the existing agencies working among and for Negroes have conspicuously failed in facing a necessary alignment between black and white labor.</p>
<p>It is impossible to make any permanent improvement in the status and the security of white labor without making an identical improvement in the status and the security of Negro labor.</p>
<p>The Negro worker must be made conscious of his relation to white labor and the white worker must be made conscious that the purposes of labor, immediate or ultimate cannot be achieved, without full participation by the Negro worker.</p>
<p>The traditional labor movement as based upon craft autonomy and separatism which is non-political in outlook and centering its attention upon the control of jobs and wages for the minority of skilled white workers is an ineffective agency for aligning white and black labor for the larger labor objectives.</p>
<p><em>These objectives</em> can only be attained through a new labor movement. This movement must direct its immediate attention to the organizing of the great mass of workers both skilled and unskilled, white and black. Its activities must be political as well as economic for the purpose of effecting such social legislation as old age pensions, unemployment insurance, child and female labor, etc. These social reforms may go to the extent of change in the form of Government itself. The Conference sees three possibilities:</p>
<ol type="1">
<li>Fascism</li>
<li>Communism</li>
<li>Reformed Democracy.</li>
</ol>
<p>The conference is opposed to <em>Fascism</em> because it would crystalize the Negro’s position at the bottom of the social structure. <em>Communism</em> is impossible without a fundamental transformation in the psychology and the attitude of white workers on the race question and a change in the Negro’s conception of himself as a worker. A <em>democracy</em> that is attempting to reform itself is a fact which has to be reckoned with. In the process of reform the interests of the Negro cannot be adequately safeguarded by white paternalism in government. It is absolutely indispensable that in this attempt of the government to control agriculture and industry, there be adequate Negro representations on all boards and fields staffs.</p>
<p>While the accomplishment of these aims cannot be achieved except through the cooperation of white and black, the primary responsibility for the initiation development and execution of this program rests upon the Negro himself. This is predicated upon the increased <em>economic independence</em> of the Negro. No matter what artificial class difference may seem to exist within the Negro group it must be recognized that all elements of the Race must weld themselves together for the common welfare. This point of view must be indoctrinated through the churches, educational institutions and other agencies working in behalf of the Negro. The first steps toward the rapprochement between the educated Negro and the Negro mass must be taken by the educated Negro himself. The Finding Committee recommends that the practical implications of this program be referred to a committee on continuation to be appointed at this conference.</p>
<p style="text-align:center">
~~~~~~~~~~~~~~~
</p>
<p>There were some little sidelights that are of interest First and foremost, I discovered that these young people could not sing. It was astonishing. It would be impossible to get thirty young Germans, Frenchmen, Spaniards, Haitians or Chinese together, who could not and would not sing enthusiastically songs that they all knew. But we did not know any songs and we could not sing them. We could not even try. We were too sophisticated. We had heard Hayes and Marian Anderson, not to mention the Metropolitan Opera, and we were dumb in both senses of the word.</p>
<p>In addition to that there was on the part of a few a certain, not unexpected, but nevertheless startling lack of self-discipline. It has always been interesting to me to see how young people in many countries organized their government and discipline and enforce it with a certain ruthlessness. But here out of twenty-six, five did as they pleased with regard to noise, sleep and enjoyment with utter disregard of the perfectly evident desires of the rest, and to cap the climax, the rest uttered no protest. I have seen evidence of this sort of thing among young colored people elsewhere. It is for us and the race a new and pressing problem.</p>
<p>Perhaps the second Amenia conference will not be as epoch-making as the first, but on the other hand, it is just as possible that it will be more significant for the future than any conference which colored people have yet held, That depends entirely upon what reactions follow this meeting.</p>
<p>This sketch of the conference cannot close without reference to the hospitality of the host, Joel E. Spingarn, and the thoughtful co-operation of his wife, his two daughters and his two sons. It was withal a very beautiful experience.</p>
<!-- Similar articles start here -->
<hr>
<section id="related-articles" class="level4">
<h4 class="anchored" data-anchor-id="related-articles">Related Articles:</h4>
<ul>
<li><a href="../../../Volumes/15/02/victory.html">Victory (1917)</a></li>
<li><a href="../../../Volumes/22/01/inter-racial_comity.html">Inter-Racial Comity (1922)</a></li>
<li><a href="../../../Volumes/27/04/younger_movement.html">The Younger Literary Movement (1924)</a></li>
<li><a href="../../../Volumes/30/01/new_crisis.html">The New Crisis (1925)</a></li>
<li><a href="../../../Volumes/28/03/unity.html">Unity (1924)</a></li>
</ul>
<!-- Similar articles end here -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-du_bois1933" class="csl-entry quarto-appendix-citeas" role="listitem">
Du&nbsp;Bois, W.E.B. 1933. <span>“Youth and Age at Amenia.”</span>
<em>The&nbsp;Crisis</em> 40 (10): 226–27. <a href="https://www.dareyoufight.org/Volumes/40/10/youth_and_age.html">https://www.dareyoufight.org/Volumes/40/10/youth_and_age.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.dareyoufight\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>