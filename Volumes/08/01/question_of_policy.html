<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Du Bois, W.E.B.">
<meta name="dcterms.date" content="1914-05-01">

<title>A Question of Policy and The Philosophy of Mr.&nbsp;Dole – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="A Question of Policy and The Philosophy of Mr. Dole">
<meta name="citation_author" content="Du Bois, W.E.B.">
<meta name="citation_publication_date" content="1914-05-01">
<meta name="citation_cover_date" content="1914-05-01">
<meta name="citation_year" content="1914">
<meta name="citation_online_date" content="1914-05-01">
<meta name="citation_fulltext_html_url" content="https://nealcaren.github.io/fightordie//Volumes/08/01/question_of_policy.html">
<meta name="citation_issue" content="1">
<meta name="citation_volume" content="8">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="23">
<meta name="citation_lastpage" content="25.">
<meta name="citation_journal_title" content="The Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">A Question of Policy and The Philosophy of Mr.&nbsp;Dole</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Du Bois, W.E.B. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 1914</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="a-question-of-policy" class="level2">
<h2 class="anchored" data-anchor-id="a-question-of-policy">A Question of Policy</h2>
<p>The Editor of <span class="smallcaps">The Crisis</span>:</p>
<p>I wish the best success of your cause. May I therefore call your attention and that of your readers to certain rather characteristic points in your interesting Easter number of the magazine, in which I suspect that you tend to defeat your main purpose? First, I doubt whether your judgment of the late Mr.&nbsp;Robert C. Ogden was fair. If he did not admire “a self-conscious” Negro, he did not like self-consciousness in anyone. The ideal type of man, black or white, is not thinking about himself. Granting, however, that you put your finger on a certain limitation in Mr.&nbsp;Ogden’s democracy, my point is that we ought to give “the benefit of the doubt” to the men of Mr.&nbsp;Ogden’s type. If they are not the <em>best</em> friends of the <em>most</em> progressive movement, still let us claim them heartily as friends. Otherwise we tend to halt the procession. To claim them as friends tends to move such men our way. For what end do we talk if not to persuade? To persuade those who agree with us! That is cheap work. We want to persuade those who are on the fence, hesitating whether to come further.</p>
<p>Secondly, what you say of capitalizing the word Negro strikes me again as characteristic of the same attitude (shall I say it?) of carrying a chip on the shoulder. For I must confess that, though brought up in the sturdiest old anti-slavery traditions, I was never taught to spell either Negro or white with a capital. I still object to spell “white” after this new convention, and yet I wish to treat my colored friends as well as I treat white people. I suspect that most people do not know this new style of capitalization, and are quite innocent of the intent to give offense.</p>
<p>Thirdly, I think you go off the line of useful persuasion and create needless antagonism in what you say on page 286 of Mr.&nbsp;Roosevelt’s remark that “the best men in the United States believe in treating each man, of whatever color, absolutely on his worth,” etc. You and I wish this to become true. Do you imagine that it is the slightest help to our purpose to denounce Mr.&nbsp;Roosevelt’s statement as a “falsehood”? Why not better keep the fine sentence in print in every issue of <span class="smallcaps">The Crisis</span>, till the colonel comes back from South America? The more people who are made to see this sentence the sooner the world will come to believe it, and act up to it. The oftener you call such a word false the slower you inevitably make human progress toward our ideal.</p>
<p>We wonder sometimes at educated people who seem never to have grappled with the philosophy of evolution! Is it possible that the management of <span class="smallcaps">The Crisis</span>, a progressive paper, is still living in the period of dualism, and thinks that we civilize the world in proportion to the number of people whom we can stir up to feel ugly?</p>
<p>Finally, why do you hurt and spoil the touching effect of the story of lynching at Leland, Miss., by what seems a clear slur at President Wilson and President Eliot? Has either of them ever given encouragement to lynching? Here are ninety millions of people emerging from the barbarism of only a few generations ago. The wonder is that there is so little killing; the fact is that society is steadily setting its face against it. Please say every positive word you like to establish the manliness, the patience and the courage of your leaders. Please do the least possible to arouse resentment of bitterness, which is sure to react upon those who stir it. Please do more of what you are doing every month, to show the growth of kindly good will among all kinds of people. For good will is the only irresistible power in the universe.</p>
<p>Respectfully your friend,</p>
<p>Charles F. Dole.</p>
<hr>
</section>
<section id="the-philosophy-of-mr.-dole" class="level2">
<h2 class="anchored" data-anchor-id="the-philosophy-of-mr.-dole">The Philosophy of Mr.&nbsp;Dole</h2>
<p>We publish very gladly Mr.&nbsp;Dole’s criticism of <span class="smallcaps">The Crisis</span>, because of our deep respect for the writer and because he voices a real and vital disagreement with our policy which is continually, in one way or another, coming to expression. It is briefly this thesis: “Don’t antagonize, don’t be bitter; say the conciliatory thing; make friends and do not repel them; insist on and emphasize the cheerful and good and dwell as little as possible on wrong and evil.”</p>
<p><span class="smallcaps">The Crisis</span> does not believe in this policy so far as the present status of the American Negro problem is concerned. We could imagine many social problems, and many phases in a particular problem, when the watchful waiting, the tactfully conciliatory attitude would be commendable and worth while. At other times it would be suicidal and this, in our opinion, is one of the times.</p>
<p>It was ever so. When the Hebrew prophets cried aloud there were respectable persons by the score who said:</p>
<p>“Unfortunate exaggeration!”</p>
<p>“Unnecessary feeling!”</p>
<p>“Ungodly bitterness!”</p>
<p>Yet the jeremiads were needed to redeem a people. When the abolitionists began, not simply to say, but to act as if slavery were a “covenant with hell,” there were plenty of timid souls “on the fence, hesitating,” who scrambled down hastily on the popular side and were willing to lynch Garrison and ostracize Phillips.</p>
<p>All this might be beside the mark if we had not already tried Mr.&nbsp;Dole’s prescriptions. For now nearly twenty years we have made of ourselves mudsills for the feet of this Western world. We have echoed and applauded every shameful accusation made against 10,000,000 victims of slavery. Did they call us inferior half-beasts? We nodded our simple heads and whispered: “We is.” Did they call our women prostitutes and our children bastards? We smiled and cast a stone at the bruised breasts of our wives and daughters. Did they accuse us of laziness 4,000,000 sweating, struggling laborers, half paid and cheated out of much of that? We shrieked: “Ain’t it so?” We laughed with them at our color, we joked at our sad past, and we told chicken stories to get alms.</p>
<p>And what was the result? We got “friends.” I do not believe any people ever had so many “friends” as the American Negro to-day! He has nothing but “friends” and may the good God deliver him from most of them, for they are like to lynch his soul.</p>
<p>What is it to be a friend of the Negro? It is to believe in anything for him except, perhaps, total and immediate annihilation. Short of that, good and kind friends of colored folk believe that he is, in Mr.&nbsp;Dooley’s charming phrase, “aisily lynched,” and ought to be occasionally. Even if 2,662 accused black people have been publicly lynched, burned and mutilated in twenty-eight years (not to mention the murder of perhaps 10,000 other black folk), our friends think we ought not to disturb the good President of these United States because “<em>the wonder is that there is so little killing!</em>”</p>
<p>It is the old battle of the better and the best. The worst foes of Negro manhood to-day are those compromising friends who are willingly satisfied with even less than half a loaf. They want the Negro educated; but the South objects to Negro colleges. Oh, very well, then, high schools; but the South objects to <em>literary</em> training for <em>niggers!</em> Dear, dear! Then <em>industrial</em> training; but the South objects to training any considerable number of Negroes for industry; it wants them for menial service. Very well, train them as servants and field hands—anything as long as it is <em>education!</em> Then we and <span class="smallcaps">The Crisis</span> rise and say: “But——” Our friends raise deprecating hands; they adjust the sofa pillows, shade the light, and say: “<em>Now, now! give them the benefit of the doubt!</em>”</p>
<p>Or we clamor for the right to vote. “Of course you should vote,” say our friends. “But,” says the South, “they are too ignorant and inexperienced; we will vote for them.” “Excellent,” cry our friends, “vote for them and guard them in their civil rights.” “What’s this?” asks the South. “We mean their economic rights,” say our friends glibly, “their right to work and get property.” “Yes,” answers the South calmly, “the right to work, and we’ll work them.” “But———” cries <span class="smallcaps">The Crisis</span> and the black man who has been worked long enough. “Sh!” answer our friends. “<em>You’ll halt the procession!</em>”</p>
<p>That’s precisely what we intend to do. For twenty-five years we have let the procession go by until the systematic denial of manhood rights to black men in America is the crying disgrace of the century. We have wrongs, deep and bitter wrongs. There are local and individual exceptions; there are some mitigating circumstances; there is much to be excused; there is much to be said; and yet for the great mass of 10,000,000 Americans of Negro descent these things are true:</p>
<p>We are denied education.</p>
<p>We are driven out of the Church of Christ.</p>
<p>We are forced out of hotels, theatres and public places.</p>
<p>We are publicly labeled like dogs when we travel.</p>
<p>We can seldom get decent employment.</p>
<p>We are forced down to the lowest wage scale.</p>
<p>We pay the highest rent for the poorest homes.</p>
<p>We cannot buy property in decent neighborhoods.</p>
<p>We are held up to ridicule in the press and on the platform and stage.</p>
<p>We are disfranchised.</p>
<p>We are taxed without representation.</p>
<p>We are denied the right to choose our friends or to be chosen by them, but must publicly announce ourselves as social pariahs or be suggestively kicked by the <em>Survey</em>.</p>
<p>In law and custom our women have no rights which a white man is bound to respect.</p>
<p>We cannot get justice in the courts.</p>
<p>We are lynched with impunity.</p>
<p>We are publicly, continuously and shamefully insulted from the day of our birth to the day of our death.</p>
<p>And yet we are told not to be “self-conscious;” to lie about the truth in order to make it “come true;” to grapple with the “philosophy of evolution;” and not to make people “feel ugly” by telling them “ugly facts.”</p>
<p>Few admire Mr.&nbsp;Dole, personally, more than the editor of <span class="smallcaps">The Crisis</span>. Mr.&nbsp;Dole is the type of what the American of the future may be: fine in feeling, delicate in touch, sensitive to the subtle beauties of the world. But Mr.&nbsp;Dole’s feet never walked the way we tread. He does not know—he cannot conceive this darker world of insult, repression, hunger and murder. He and Charles William Eliot and Woodrow Wilson and millions of others have given no encouragement to lynching, except by silence!</p>
<p><em>Except by silence!</em></p>
<p>EXCEPT BY SILENCE!</p>
<p>Who ever tried harder than the Negro and his “friends” to use the lie for social betterment? We have lied about the South so strenuously that this may account for the persistent blackness of our faces. Oh, yes: the South is the true, tried friend of Negroes; the South wants them educated; the South detests lynching; the South loves black mammies and buries them handsomely; the little playful antics of mobs are but ebullitions of Anglo-Saxon energy or at worst the faults of “poor white trash,” who do not count. Moreover, those who dispute these statements are either meddling white Northerners or impudent Negroes who want to marry white women.</p>
<p>All of this we black folk and our “friends” have been saying glibly and frequently. We were lying, and we knew we were lying, to make the “falsehood come true;” but did the world know this? Did we not lull this nation to false security and fatuous insensibility? And is the uneasiness of our friends at the plain talk of <span class="smallcaps">The Crisis</span> the cause of ugly feeling or the necessary result of ridiculous lies? How far may we indeed meddle with the truth? Where is the boundary line between getting people “to come and believe” what is untrue and telling them on your honor that black is white? We have a sincere desire to see a little brochure by Mr.&nbsp;Dole—with hand-made paper, deckle edged and privately printed—on “The Uses of the Lie as a Means of Social Salvation.” We would like to distribute a few copies in Heaven among Mr.&nbsp;Dole’s Puritan ancestors and listen to the ensuing profanity.</p>
<p>It is the palpable evasions of our friends, and our earnest friends like Mr.&nbsp;Dole, that are most discouraging. When we protest at the plain insult of “negro,” Mr.&nbsp;Dole answers that we do not capitalize “white.” But white is not the correlative of Negro, as Mr.&nbsp;Dole knows right well. “Black” and “colored” are the correlatives to “white,” while Negro is used exactly as the words Malay or German or Jew or Indian are used. To refuse a word so used capitalization is a petty and usually a deliberate insult.</p>
<p>Humanity is progressing toward an ideal; but not, please God, solely by help of men who sit in cloistered ease, hesitate from action and seek sweetness and light; rather we progress today, as in the past, by the soul-torn strength of those who can never sit still and silent while the disinherited and the damned clog our gutters and gasp their lives out on our front porches. These are the men who go down in the blood and dust of battle. They say ugly things to an ugly world. They spew the lukewarm fence straddlers out of their mouths, like God of old; they cry aloud and spare not; they shout from the housetops, and they make this world so damned uncomfortable with its nasty burden of evil that it tries to get good and does get better.</p>
<p>Evolution is evolving the millennium, but one of the unescapable factors in evolution are the men who hate wickedness and oppression with perfect hatred, who will not equivocate, will not excuse, and will be heard. With the sainted spirits of such as these <span class="smallcaps">The Crisis</span> would weakly but earnestly stand and cry in the world’s four corners of the way; and it claims no man as friend who dare not stand and cry with it.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-bois,_w.e.b.1914" class="csl-entry quarto-appendix-citeas" role="listitem">
Bois, W.E.B., Du. 1914. <span>“A Question of Policy and The Philosophy
of Mr. Dole.”</span> <em>The Crisis</em> 8 (1): 23–25. <a href="https://nealcaren.github.io/fightordie//Volumes/08/01/question_of_policy.html">https://nealcaren.github.io/fightordie//Volumes/08/01/question_of_policy.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/nealcaren\.github\.io\/fightordie\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>