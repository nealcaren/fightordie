<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W.E.B. Du Bois">
<meta name="dcterms.date" content="1915-04-01">

<title>The Immediate Program of the American Negro – Dare You Fight</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="citation_title" content="The Immediate Program of the  American Negro">
<meta name="citation_author" content="W.E.B. Du Bois">
<meta name="citation_publication_date" content="1915-04-01">
<meta name="citation_cover_date" content="1915-04-01">
<meta name="citation_year" content="1915">
<meta name="citation_online_date" content="1915-04-01">
<meta name="citation_fulltext_html_url" content="https://www.dareyoufight.org/Volumes/09/06/immediate_program.html">
<meta name="citation_issue" content="6">
<meta name="citation_volume" content="9">
<meta name="citation_language" content="en">
<meta name="citation_firstpage" content="310">
<meta name="citation_lastpage" content="312">
<meta name="citation_journal_title" content="The Crisis">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../Images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Dare You Fight</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../listing.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../covers.html"> 
<span class="menu-text">Covers</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Immediate Program of the American Negro</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>W.E.B. Du Bois </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 1, 1915</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>The immediate program of the American Negro means nothing unless it is mediate to his great ideal and the ultimate ends of his development. We need not waste time by seeking to deceive our enemies into thinking that we are going to be content with a half loaf, or by being willing to lull our friends into a false sense of our indifference and present satisfaction.</p>
<p><img src="../../../Images/rise.png" class="img-fluid"></p>
<p>The American Negro demands equality—political equality, industrial equality and social equality; and he is never going to rest satisfied with anything less. He demands this in no spirit of braggadocio and with no obsequious envy of others, but as an absolute measure of self-defense and the only one that will assure to the darker races their ultimate survival on earth.</p>
<p>Only in a demand and a persistent demand for essential equality in the modern realm of human culture can any people show a real pride of race and a decent self-respect. For any group, nation or race to admit for a moment the present monstrous demand of the white race to be the inheritors of the earth, the arbiters of mankind and the sole owners of a heritage of culture which they did not create, nor even improve to any greater extent than the other great division of men—to admit such pretense for a moment is for the race to write itself down immediately as indisputably inferior in judgment, knowledge and common sense.</p>
<p>The equality in political, industrial and social life which modern men must have in order to live, is not to be confounded with sameness. On the contrary, in our case, it is rather insistence upon the right of diversity;—upon the right of a human being to be a man even if he does not wear the same cut of vest, the same curl of hair or the same color of skin. Human equality does not even entail, as is sometimes said, absolute equality of opportunity; for certainly the natural inequalities of inherent genius and varying gift make this a dubious phase. But there is a more and more clearly recognized minimum of opportunity and maximum of freedom to be, to move and to think, which the modern world denies to no being which it recognizes as a real man.</p>
<p>These involve both negative and positive sides. They call for freedom on the one hand and power on the other. The Negro must have political freedom; taxation without representation is tyranny. American Negroes of to-day are ruled by tyrants who take what they please in taxes and give what they please in law and administration, in justice and in injustice; and the great mass of black people must stand helpless and voiceless before a condition which has time and time again caused other peoples to fight and die.</p>
<p>The Negro must have industrial freedom. Between the peonage of the rural South, the oppression of shrewd capitalists and the jealousy of certain trade unions, the Negro laborer is the most exploited class in the country, giving more hard toil for less money than any other American, and have less voice in the conditions of his labor.</p>
<p>In social intercourse every effort is being made to-day from the President of the United States and the so-called Church of Christ down to saloons and boot-blacks to segregate, strangle and spiritually starve Negroes so as to give them the least possible chance to know and share civilization.</p>
<p>These shackles must go. But that is but the beginning. The Negro must have power; the power of men, the right to do, to know, to feel and to express that knowledge, action and spiritual gift. He must not simply be free from the political tyranny of white folk, he must have the right to vote and to rule over the citizens, white and black, to the extent of his proven foresight and ability. He must have a voice in the new industrial democracy which is building and the power to see to it that his children are not in the next generation trained to be the mudsills of society. He must have the right to social intercourse with his fellows. There was a time in the atomic individualistic group when “social intercourse’ meant merely calls and tea-parties; to-day social intercourse means theatres, lectures, organizations, churches, clubs, excursions, travel, hotels,—it means in short Life; to bar a group from such methods of thinking, living and doing is to bar them from the world and bid them create a new world;—a task to which no single group is today equal; it is to crucify them and taunt them with not being able to live.</p>
<p>What now are the practical steps which must be taken to accomplish these ends?</p>
<p>First of all before taking steps the wise man knows the object and end of his journey. There are those who would advise the black man to pay little or no attention to where he is going so long as he keeps moving. They assume that God or his vice-gerent the White Man will attend to the steering. This is arrant nonsense. The feet of those that aimlessly wander land as often in hell as in heaven. Conscious self-realization and self-direction is the watchword of modern man, and the first article in the program of any group that will survive must be the great aim, equality and power among men.</p>
<p>The practical steps to this are clear. First we must fight obstructions; by continual and increasing effort we must first make American courts either build up a body of decisions which will protect the plain legal rights of American citizens or else make them tear down the civil and political rights of all citizens in order to oppress a few. Either result will bring justice in the end. It is lots of fun and most ingenious just now for courts to twist law so as to say I shall not live here or vote there, or marry the woman who wishes to marry me. But when to-morrow these decisions throttle all freedom and overthrow the foundation of democracy and decency, there is going to be some judicial house cleaning.</p>
<p>We must <em>secondly</em> seek in legislature and congress remedial legislation; national aid to public school education, the removal of all legal discriminations based simply on race and color, and those marriage laws passed to make the seduction of black girls easy and without legal penalty.</p>
<p><em>Third</em> the human contact of human beings must be increased; the policy which brings into sympathetic touch and understanding, men and women, rich and poor, capitalist and laborer, Asiatic and European, must bring into closer contact and mutual knowledge the white and black people of this land. It is the most frightful indictment of a country which dares to call itself civilized that it has allowed itself to drift into a state of ignorance where ten million people are coming to believe that all white people are liars and thieves, and the whites in turn to believe that the chief industry of Negroes is raping white women.</p>
<p><em>Fourth</em> only the publication of the truth repeatedly and incisively and uncompromisingly can secure that change in public opinion which will correct these awful lies. <span class="small-caps">The Crisis</span>, our record of the darker races, must have a circulation not of 35,000 chiefly among colored folk but of at least 250,000 among all men who believe in men. It must not be a namby-pamby box of salve, but a voice that thunders fact and is more anxious to be true than pleasing. There should be a campaign of tract distribution—short well written facts and arguments—rained over this land by millions of copies, particularly in the South, where the white people know less about the Negro than in any other part of the civilized world. The press should be utilized—the 400 Negro weeklies, the great dailies and eventually the magazines, when we get magazine editors who will lead public opinion instead of following afar with resonant brays. Lectures, lantern-slides and moving pictures, co-operating with a bureau of information and eventually becoming a Negro encyclopedia, all these are efforts along the line of making human beings realize that Negroes are human.</p>
<p>Such is the program of work against obstructions. Let us now turn to constructive effort. This may be summed up under (1) economic co-operation (2) a revival of art and literature (3) political action (4) education and (5) organization.</p>
<p>Under economic co-operation we must strive to spread the idea among colored people that the accumulation of wealth is for social rather than individual ends. We must avoid, in the advancement of the Negro race, the mistakes of ruthless exploitation which have marked modern economic history. To this end we must seek not simply home ownership, small landholding and saving accounts, but also all forms of co-operation, both in production and distribution, profit sharing, building and loan associations, systematic charity for definite, practical ends, systematic migration from mob rule and robbery, to freedom and enfranchisement, the emancipation of women and the abolition of child labor.</p>
<p>In art and literature we should try to loose the tremendous emotional wealth of the Negro and the dramatic strength of his problems through writing, the stage, pageantry and other forms of art. We should resurrect forgotten ancient Negro art and history, and we should set the black man before the world as both a creative artist and a strong subject for artistic treatment.</p>
<p>In political action we should organize the votes of Negroes in such congressional districts as have any number of Negro voters. We should systematically interrogate candidates on matters vital to Negro freedom and uplift. We should train colored voters to reject the bribe of office and to accept only decent legal enactments both for their own uplift and for the uplift of laboring classes of all races and both sexes.</p>
<p>In education we must seek to give colored children free public school training. We must watch with grave suspicion the attempt of those who, under the guise of vocational training, would fasten ignorance and menial service on the Negro for another generation. Our children must not in large numbers, be forced into the servant class; for menial service is still, in the main, little more than an antiquated survival of impossible conditions. It has always been as statistics show, a main cause of bastardy and prostitution and despite its many marvelous exceptions it will never come to the light of decency and honor until the house servant becomes the Servant in the House. It is our duty then, not drastically but persistently, to seek out colored children of ability and genius, to open up to them broader, industrial opportunity and above all, to find that Talented Tenth and encourage it by the best and most exhaustive training in order to supply the Negro race and the world with leaders, thinkers and artists.</p>
<p>For the accomplishment of all these ends we must organize. Organization among us already has gone far but it must go much further and higher. Organization is sacrifice. It is sacrifice of opinions, of time, of work and of money, but it is, after all, the cheapest way of buying the most priceless of gifts—freedom and efficiency. I thank God that most of the money that supports the National Association for the Advancement of Colored People comes from black hands; a still larger proportion must so come, and we must not only support but control this and similar organizations and hold them unwaveringly to our objects, our aims and our ideals.</p>
<p><em>Citation:</em> Du Bois, W.E.B. 1915. “The Immediate Program of the American Negro.” <em>The Crisis</em>. 9(6):310–312.</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-du_bois1915" class="csl-entry quarto-appendix-citeas" role="listitem">
Du Bois, W.E.B. 1915. <span>“The Immediate Program of the American
Negro.”</span> <em>The Crisis</em> 9 (6): 310–12. <a href="https://www.dareyoufight.org/Volumes/09/06/immediate_program.html">https://www.dareyoufight.org/Volumes/09/06/immediate_program.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.dareyoufight\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>